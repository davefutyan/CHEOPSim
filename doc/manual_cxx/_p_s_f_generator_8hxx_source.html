<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>CHEOPSim: telescope/include/PSFGenerator.hxx Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cheops-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CHEOPSim
   &#160;<span id="projectnumber">06</span>
   </div>
   <div id="projectbrief">Simulation software for CHEOPS SOC</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_6fd817f64069f948327b5e9fa507ee70.html">telescope</a></li><li class="navelem"><a class="el" href="dir_7ff2abe537b66d88362e90b7be0a2066.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">PSFGenerator.hxx</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * PSFGenerator.hxx</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  Created on: 10 Feb 2014</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *      Author: futyand</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#ifndef _PSF_GENERATOR_HXX_</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#define _PSF_GENERATOR_HXX_</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;simulator/include/Module.hxx&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html">   40</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_p_s_f_generator.html">PSFGenerator</a>: <span class="keyword">public</span> <a class="code" href="class_module.html">Module</a> {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#a5d652b4b4e69f4eb570c1405089d8894">   52</a></span>&#160;    <span class="keyword">static</span> constexpr <span class="keywordtype">double</span> <a class="code" href="class_p_s_f_generator.html#a5d652b4b4e69f4eb570c1405089d8894">kTelescopeArea</a> = 706.85835;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#afbface8f4e671f367648c9f2397ad188">   53</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_p_s_f_generator.html#afbface8f4e671f367648c9f2397ad188">kOversampledPsfSize</a> = 2000; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#a62d3cc16ee45be752f0a911627dfd0c2">   54</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_p_s_f_generator.html#a62d3cc16ee45be752f0a911627dfd0c2">kPsfSize</a> = 200; </div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#af01c071bf55a847b1307bab0dca3d70d">   55</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_p_s_f_generator.html#af01c071bf55a847b1307bab0dca3d70d">kNpsfTemp</a> = 4; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#ae11b6e45b4366956d9b78aac94e66b53">   56</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_p_s_f_generator.html#ae11b6e45b4366956d9b78aac94e66b53">kNpsfWavelength</a> = 15; </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#a4d8e66bff5b3bf51af4ee903a65665fc">   57</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_p_s_f_generator.html#a4d8e66bff5b3bf51af4ee903a65665fc">kPsfWavelengthBinWidth</a> = 50; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#a89162ea86ff31de3112ddaf93129ecd6">   58</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_p_s_f_generator.html#a89162ea86ff31de3112ddaf93129ecd6">kPsfFirstWavelength</a> = 375; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#a91298096ef976f9dfc828e5f3e97355c">   59</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_p_s_f_generator.html#a91298096ef976f9dfc828e5f3e97355c">kPsfMargin</a> = 25; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82">   64</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82">POSITION_METHOD</a>{</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82aaa1d1752dda9c93e0a4a8d1da69e366c">   65</a></span>&#160;        <a class="code" href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82aaa1d1752dda9c93e0a4a8d1da69e366c">Oversampling</a>, </div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82a8047fc24a393492c9da7474cc3b91fd4">   66</a></span>&#160;        <a class="code" href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82a8047fc24a393492c9da7474cc3b91fd4">Interpolation</a>, </div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82a552beda803c7c04993f04d841ee9e839">   67</a></span>&#160;        <a class="code" href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82a552beda803c7c04993f04d841ee9e839">SnapToGrid</a> </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    };</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651c">   71</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651c">THERMAL_MAP</a>{</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651ca1ce2ad20c62b62e1838d3d8c65d666b9">   72</a></span>&#160;        <a class="code" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651ca1ce2ad20c62b62e1838d3d8c65d666b9">fixed</a>, </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651ca5208f790b6c299b314b5911f7b9c2cad">   73</a></span>&#160;        <a class="code" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651ca5208f790b6c299b314b5911f7b9c2cad">cold</a>, </div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651ca12c435c69ec0913d9be4f9083c7900d3">   74</a></span>&#160;        <a class="code" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651ca12c435c69ec0913d9be4f9083c7900d3">hot1</a>, </div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651cac96aae289cd8523205f39b02c6a3407c">   75</a></span>&#160;        <a class="code" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651cac96aae289cd8523205f39b02c6a3407c">hot2</a>, </div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651ca9f92287025302a21ea0cb10aa134f89b">   76</a></span>&#160;        <a class="code" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651ca9f92287025302a21ea0cb10aa134f89b">breathing</a> </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    };</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="class_p_s_f_generator.html">PSFGenerator</a>() : <a class="code" href="class_module.html">Module</a>(<span class="stringliteral">&quot;PSFGenerator&quot;</span>,<a class="code" href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bcabbb5130de0a6b70ac5313e4d51e0b896">timeLoop</a>) {};</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keyword">virtual</span> ~<a class="code" href="class_p_s_f_generator.html">PSFGenerator</a>() {};</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_p_s_f_generator.html#a0d55ba47d92ed2aebc102b8d2c3ae246">initialize</a>(<span class="keyword">const</span> ModuleParams &amp; params);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_p_s_f_generator.html#a104a59a07d40c1990fe1c18f2aa8a674">doBegin</a>(<a class="code" href="class_data.html">Data</a> * data, <span class="keywordtype">bool</span> fullFrame=<span class="keyword">false</span>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_p_s_f_generator.html#a9b27c3d1091d527f949990dd1fd8ad65">process</a>(<a class="code" href="class_data.html">Data</a> * data, <span class="keywordtype">int</span> timeStep, <span class="keywordtype">bool</span> fullFrame=<span class="keyword">false</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_p_s_f_generator.html#a65a60668c2572197149abb2fbfeda272">readPSFs</a>(<span class="keywordtype">bool</span> oversampled, <a class="code" href="struct_data_1_1_subarray_dimensions.html">Data::SubarrayDimensions</a> subarrayDimensions);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_p_s_f_generator.html#a9e83ba200fac4381fe9838e558137efb">getWavelengthWeights</a>(<a class="code" href="class_data.html">Data</a> * data);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_p_s_f_generator.html#ab3f34970efdec6617373cd08afa69c6e">interpolatePSF</a>(<span class="keywordtype">double</span> jitteredPositionX, <span class="keywordtype">double</span> jitteredPositionY, <span class="keywordtype">double</span> ** temperatureInterpolatedPsf,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                        <span class="keywordtype">double</span> ** interpolatedPSF) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="class_p_s_f_generator.html#ae5995728a3d7ae89356f526922e4c1da">bilinearInterpolation</a>(<span class="keywordtype">double</span> q11, <span class="keywordtype">double</span> q12, <span class="keywordtype">double</span> q21, <span class="keywordtype">double</span> q22, <span class="keywordtype">double</span> xfrac, <span class="keywordtype">double</span> yfrac) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#a575fbc5f16d2f915dee4fbf0332502d6">  147</a></span>&#160;    <span class="keywordtype">string</span> <a class="code" href="class_p_s_f_generator.html#a575fbc5f16d2f915dee4fbf0332502d6">m_psfFilename</a>; </div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#ae772f24890d48d7800cc789e6d304f9c">  148</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_p_s_f_generator.html#ae772f24890d48d7800cc789e6d304f9c">m_oversampleJitter</a>; </div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#a2e561ca6793f01bd51a4874a9b28264d">  149</a></span>&#160;    <a class="code" href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82">POSITION_METHOD</a> <a class="code" href="class_p_s_f_generator.html#a2e561ca6793f01bd51a4874a9b28264d">m_targetStarPositioning</a>; </div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#aa84e3947856fa754c61c2d3254e63f41">  150</a></span>&#160;    <a class="code" href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82">POSITION_METHOD</a> <a class="code" href="class_p_s_f_generator.html#aa84e3947856fa754c61c2d3254e63f41">m_backgroundStarPositioning</a>; </div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#ab8bbb043ea67803359f4557e4369e686">  151</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_p_s_f_generator.html#ab8bbb043ea67803359f4557e4369e686">m_convertFluxToPhotons</a>; </div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#ae937bdcda066ef28e9ef271ad7989f07">  152</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_p_s_f_generator.html#ae937bdcda066ef28e9ef271ad7989f07">m_monochromaticPSF</a>; </div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#af79e83bfee6a5e02fe9b490ed9c02385">  153</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_p_s_f_generator.html#af79e83bfee6a5e02fe9b490ed9c02385">m_monochromaticPSFwavelength</a>; </div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#a4dbd6ae5be2dcf01a012b1cf6fdf69be">  154</a></span>&#160;    <a class="code" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651c">THERMAL_MAP</a> <a class="code" href="class_p_s_f_generator.html#a4dbd6ae5be2dcf01a012b1cf6fdf69be">m_thermalMap</a>; </div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#af38fd57a11f3c51b4d86955e37925f09">  155</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="class_p_s_f_generator.html#af38fd57a11f3c51b4d86955e37925f09">m_oversampledPsf</a>[2000][2000][2]; </div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#a2fe61f28c2d7dbc8a85bd859be2b3188">  156</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="class_p_s_f_generator.html#a2fe61f28c2d7dbc8a85bd859be2b3188">m_psf</a>[200][200][2]; </div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="class_p_s_f_generator.html#aa2696b1f5f37eb0576e00ae13680f563">  157</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="class_p_s_f_generator.html#aa2696b1f5f37eb0576e00ae13680f563">m_weight</a>[<a class="code" href="class_p_s_f_generator.html#ae11b6e45b4366956d9b78aac94e66b53">kNpsfWavelength</a>]; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;};</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* _PSF_GENERATOR_HXX_ */</span><span class="preprocessor"></span></div>
<div class="ttc" id="class_p_s_f_generator_html_ab37c9dd00a4284263342a696abf71c82a8047fc24a393492c9da7474cc3b91fd4"><div class="ttname"><a href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82a8047fc24a393492c9da7474cc3b91fd4">PSFGenerator::Interpolation</a></div><div class="ttdoc">Bilinear spatial interpolation. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:66</div></div>
<div class="ttc" id="class_p_s_f_generator_html_ae937bdcda066ef28e9ef271ad7989f07"><div class="ttname"><a href="class_p_s_f_generator.html#ae937bdcda066ef28e9ef271ad7989f07">PSFGenerator::m_monochromaticPSF</a></div><div class="ttdeci">bool m_monochromaticPSF</div><div class="ttdoc">Flag to indicate whether or not the PSF is constructed from PSFs binned in wavelength. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:152</div></div>
<div class="ttc" id="class_p_s_f_generator_html_af01c071bf55a847b1307bab0dca3d70d"><div class="ttname"><a href="class_p_s_f_generator.html#af01c071bf55a847b1307bab0dca3d70d">PSFGenerator::kNpsfTemp</a></div><div class="ttdeci">static const int kNpsfTemp</div><div class="ttdoc">Number of temperature bins for the PSF. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:55</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a4dbd6ae5be2dcf01a012b1cf6fdf69be"><div class="ttname"><a href="class_p_s_f_generator.html#a4dbd6ae5be2dcf01a012b1cf6fdf69be">PSFGenerator::m_thermalMap</a></div><div class="ttdeci">THERMAL_MAP m_thermalMap</div><div class="ttdoc">Thermal map corresponding to the PSF: fixed, cold, hot1, hot2 or breathing. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:154</div></div>
<div class="ttc" id="class_data_html"><div class="ttname"><a href="class_data.html">Data</a></div><div class="ttdoc">Data container for CHEOPSim. </div><div class="ttdef"><b>Definition:</b> Data.hxx:84</div></div>
<div class="ttc" id="class_p_s_f_generator_html_ae772f24890d48d7800cc789e6d304f9c"><div class="ttname"><a href="class_p_s_f_generator.html#ae772f24890d48d7800cc789e6d304f9c">PSFGenerator::m_oversampleJitter</a></div><div class="ttdeci">bool m_oversampleJitter</div><div class="ttdoc">Flag to indicate whether or not to perform time oversampling of PSF position according to jitter and ...</div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:148</div></div>
<div class="ttc" id="class_p_s_f_generator_html_aa2696b1f5f37eb0576e00ae13680f563"><div class="ttname"><a href="class_p_s_f_generator.html#aa2696b1f5f37eb0576e00ae13680f563">PSFGenerator::m_weight</a></div><div class="ttdeci">double m_weight[kNpsfWavelength]</div><div class="ttdoc">Weight assigned to each PSF wavelength bin for the monochromatic case. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:157</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a24b8622fd6752b2565e6df88011d651cac96aae289cd8523205f39b02c6a3407c"><div class="ttname"><a href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651cac96aae289cd8523205f39b02c6a3407c">PSFGenerator::hot2</a></div><div class="ttdoc">Thermal map corresponding to the hottest point of the hottest orbit. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:75</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a2fe61f28c2d7dbc8a85bd859be2b3188"><div class="ttname"><a href="class_p_s_f_generator.html#a2fe61f28c2d7dbc8a85bd859be2b3188">PSFGenerator::m_psf</a></div><div class="ttdeci">double m_psf[200][200][2]</div><div class="ttdoc">Array to hold the non-oversampled PSF. 3rd dimension is thermal map used for breathing case only...</div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:156</div></div>
<div class="ttc" id="class_p_s_f_generator_html_ab37c9dd00a4284263342a696abf71c82"><div class="ttname"><a href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82">PSFGenerator::POSITION_METHOD</a></div><div class="ttdeci">POSITION_METHOD</div><div class="ttdoc">Algorithm used to position the PSF on the FOV. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:64</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a9e83ba200fac4381fe9838e558137efb"><div class="ttname"><a href="class_p_s_f_generator.html#a9e83ba200fac4381fe9838e558137efb">PSFGenerator::getWavelengthWeights</a></div><div class="ttdeci">void getWavelengthWeights(Data *data)</div><div class="ttdoc">Generates wavelength weights according to the black body spectrum defined by the effective temperatur...</div><div class="ttdef"><b>Definition:</b> PSFGenerator.cxx:162</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a91298096ef976f9dfc828e5f3e97355c"><div class="ttname"><a href="class_p_s_f_generator.html#a91298096ef976f9dfc828e5f3e97355c">PSFGenerator::kPsfMargin</a></div><div class="ttdeci">static const int kPsfMargin</div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:59</div></div>
<div class="ttc" id="class_p_s_f_generator_html_ab8bbb043ea67803359f4557e4369e686"><div class="ttname"><a href="class_p_s_f_generator.html#ab8bbb043ea67803359f4557e4369e686">PSFGenerator::m_convertFluxToPhotons</a></div><div class="ttdeci">bool m_convertFluxToPhotons</div><div class="ttdoc">Flag to indicate whether or not to output pixel values as number of photons or ergs. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:151</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a4d8e66bff5b3bf51af4ee903a65665fc"><div class="ttname"><a href="class_p_s_f_generator.html#a4d8e66bff5b3bf51af4ee903a65665fc">PSFGenerator::kPsfWavelengthBinWidth</a></div><div class="ttdeci">static const int kPsfWavelengthBinWidth</div><div class="ttdoc">Width of wavelength bins for the monochromatic PSF in nm. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:57</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a5d652b4b4e69f4eb570c1405089d8894"><div class="ttname"><a href="class_p_s_f_generator.html#a5d652b4b4e69f4eb570c1405089d8894">PSFGenerator::kTelescopeArea</a></div><div class="ttdeci">static constexpr double kTelescopeArea</div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:52</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a9b27c3d1091d527f949990dd1fd8ad65"><div class="ttname"><a href="class_p_s_f_generator.html#a9b27c3d1091d527f949990dd1fd8ad65">PSFGenerator::process</a></div><div class="ttdeci">void process(Data *data, int timeStep, bool fullFrame=false) const </div><div class="ttdoc">Processing of the data. Called for each time step of the simulation if Module::Schedule is timeLoop (...</div><div class="ttdef"><b>Definition:</b> PSFGenerator.cxx:345</div></div>
<div class="ttc" id="class_p_s_f_generator_html_ab37c9dd00a4284263342a696abf71c82a552beda803c7c04993f04d841ee9e839"><div class="ttname"><a href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82a552beda803c7c04993f04d841ee9e839">PSFGenerator::SnapToGrid</a></div><div class="ttdoc">PSF grid directly mapped to CCD grid. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:67</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a24b8622fd6752b2565e6df88011d651c"><div class="ttname"><a href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651c">PSFGenerator::THERMAL_MAP</a></div><div class="ttdeci">THERMAL_MAP</div><div class="ttdoc">Thermal map corresponding to the PSF. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:71</div></div>
<div class="ttc" id="class_module_html_ac47ec2094c2373341b6b9e2cce7b12bcabbb5130de0a6b70ac5313e4d51e0b896"><div class="ttname"><a href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bcabbb5130de0a6b70ac5313e4d51e0b896">Module::timeLoop</a></div><div class="ttdoc">module should run for each time step (default) </div><div class="ttdef"><b>Definition:</b> Module.hxx:30</div></div>
<div class="ttc" id="class_p_s_f_generator_html_ae5995728a3d7ae89356f526922e4c1da"><div class="ttname"><a href="class_p_s_f_generator.html#ae5995728a3d7ae89356f526922e4c1da">PSFGenerator::bilinearInterpolation</a></div><div class="ttdeci">double bilinearInterpolation(double q11, double q12, double q21, double q22, double xfrac, double yfrac) const </div><div class="ttdoc">Called by interpolatePSF. Returns the value of a pixel in the target grid (CCD) given the values of t...</div><div class="ttdef"><b>Definition:</b> PSFGenerator.cxx:814</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a2e561ca6793f01bd51a4874a9b28264d"><div class="ttname"><a href="class_p_s_f_generator.html#a2e561ca6793f01bd51a4874a9b28264d">PSFGenerator::m_targetStarPositioning</a></div><div class="ttdeci">POSITION_METHOD m_targetStarPositioning</div><div class="ttdoc">Method for positioning the target star PSF onto the pixel grid: Oversampling, Interpolation, or SnapToGrid. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:149</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a24b8622fd6752b2565e6df88011d651ca9f92287025302a21ea0cb10aa134f89b"><div class="ttname"><a href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651ca9f92287025302a21ea0cb10aa134f89b">PSFGenerator::breathing</a></div><div class="ttdoc">Linear interpolation between the hot1 and hot2 thermal maps according to telescope temperature...</div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:76</div></div>
<div class="ttc" id="struct_data_1_1_subarray_dimensions_html"><div class="ttname"><a href="struct_data_1_1_subarray_dimensions.html">Data::SubarrayDimensions</a></div><div class="ttdoc">Struct to contain subarray dimensions. </div><div class="ttdef"><b>Definition:</b> Data.hxx:178</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a24b8622fd6752b2565e6df88011d651ca1ce2ad20c62b62e1838d3d8c65d666b9"><div class="ttname"><a href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651ca1ce2ad20c62b62e1838d3d8c65d666b9">PSFGenerator::fixed</a></div><div class="ttdoc">All telescope components at the nominal temperature of -10C. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:72</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a24b8622fd6752b2565e6df88011d651ca12c435c69ec0913d9be4f9083c7900d3"><div class="ttname"><a href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651ca12c435c69ec0913d9be4f9083c7900d3">PSFGenerator::hot1</a></div><div class="ttdoc">Thermal map corresponding to the coldest point of the hottest orbit. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:74</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a24b8622fd6752b2565e6df88011d651ca5208f790b6c299b314b5911f7b9c2cad"><div class="ttname"><a href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651ca5208f790b6c299b314b5911f7b9c2cad">PSFGenerator::cold</a></div><div class="ttdoc">Thermal map corresponding to the coldest orbit. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:73</div></div>
<div class="ttc" id="class_p_s_f_generator_html_ae11b6e45b4366956d9b78aac94e66b53"><div class="ttname"><a href="class_p_s_f_generator.html#ae11b6e45b4366956d9b78aac94e66b53">PSFGenerator::kNpsfWavelength</a></div><div class="ttdeci">static const int kNpsfWavelength</div><div class="ttdoc">Number of wavelength bins for the monochromatic PSF. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:56</div></div>
<div class="ttc" id="class_p_s_f_generator_html_af38fd57a11f3c51b4d86955e37925f09"><div class="ttname"><a href="class_p_s_f_generator.html#af38fd57a11f3c51b4d86955e37925f09">PSFGenerator::m_oversampledPsf</a></div><div class="ttdeci">double m_oversampledPsf[2000][2000][2]</div><div class="ttdoc">Array to hold the oversampled PSF. 3rd dimension is thermal map used for breathing case only...</div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:155</div></div>
<div class="ttc" id="class_module_html"><div class="ttname"><a href="class_module.html">Module</a></div><div class="ttdoc">Base class for all CHEOPSim modules. </div><div class="ttdef"><b>Definition:</b> Module.hxx:25</div></div>
<div class="ttc" id="class_p_s_f_generator_html_af79e83bfee6a5e02fe9b490ed9c02385"><div class="ttname"><a href="class_p_s_f_generator.html#af79e83bfee6a5e02fe9b490ed9c02385">PSFGenerator::m_monochromaticPSFwavelength</a></div><div class="ttdeci">int m_monochromaticPSFwavelength</div><div class="ttdoc">Wavelength for monochromatic PSF. A weighted combination over wavelengths is performed if value is 0...</div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:153</div></div>
<div class="ttc" id="class_p_s_f_generator_html_aa84e3947856fa754c61c2d3254e63f41"><div class="ttname"><a href="class_p_s_f_generator.html#aa84e3947856fa754c61c2d3254e63f41">PSFGenerator::m_backgroundStarPositioning</a></div><div class="ttdeci">POSITION_METHOD m_backgroundStarPositioning</div><div class="ttdoc">Method for positioning background star PSFs onto the pixel grid: Oversampling, Interpolation, or SnapToGrid. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:150</div></div>
<div class="ttc" id="class_p_s_f_generator_html"><div class="ttname"><a href="class_p_s_f_generator.html">PSFGenerator</a></div><div class="ttdoc">This module is used to generate an image of the PSF at the appropriate position on the focal plane fo...</div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:40</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a575fbc5f16d2f915dee4fbf0332502d6"><div class="ttname"><a href="class_p_s_f_generator.html#a575fbc5f16d2f915dee4fbf0332502d6">PSFGenerator::m_psfFilename</a></div><div class="ttdeci">string m_psfFilename</div><div class="ttdoc">Filename for fits file used to define the PSF. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:147</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a0d55ba47d92ed2aebc102b8d2c3ae246"><div class="ttname"><a href="class_p_s_f_generator.html#a0d55ba47d92ed2aebc102b8d2c3ae246">PSFGenerator::initialize</a></div><div class="ttdeci">void initialize(const ModuleParams &amp;params)</div><div class="ttdoc">Initialize the module by reading in parameters from the configuration file. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.cxx:27</div></div>
<div class="ttc" id="class_p_s_f_generator_html_ab37c9dd00a4284263342a696abf71c82aaa1d1752dda9c93e0a4a8d1da69e366c"><div class="ttname"><a href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82aaa1d1752dda9c93e0a4a8d1da69e366c">PSFGenerator::Oversampling</a></div><div class="ttdoc">10 times spatial oversampling </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:65</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a89162ea86ff31de3112ddaf93129ecd6"><div class="ttname"><a href="class_p_s_f_generator.html#a89162ea86ff31de3112ddaf93129ecd6">PSFGenerator::kPsfFirstWavelength</a></div><div class="ttdeci">static const int kPsfFirstWavelength</div><div class="ttdoc">Central value of first wavelength bin for the monochromatic PSF in nm. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:58</div></div>
<div class="ttc" id="class_p_s_f_generator_html_ab3f34970efdec6617373cd08afa69c6e"><div class="ttname"><a href="class_p_s_f_generator.html#ab3f34970efdec6617373cd08afa69c6e">PSFGenerator::interpolatePSF</a></div><div class="ttdeci">void interpolatePSF(double jitteredPositionX, double jitteredPositionY, double **temperatureInterpolatedPsf, double **interpolatedPSF) const </div><div class="ttdoc">Performs a bilinear spatial interpolation the PSF to an array shifted w.r.t. the pixel grid and norma...</div><div class="ttdef"><b>Definition:</b> PSFGenerator.cxx:759</div></div>
<div class="ttc" id="class_p_s_f_generator_html_afbface8f4e671f367648c9f2397ad188"><div class="ttname"><a href="class_p_s_f_generator.html#afbface8f4e671f367648c9f2397ad188">PSFGenerator::kOversampledPsfSize</a></div><div class="ttdeci">static const int kOversampledPsfSize</div><div class="ttdoc">Array size for oversampled PSF. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:53</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a65a60668c2572197149abb2fbfeda272"><div class="ttname"><a href="class_p_s_f_generator.html#a65a60668c2572197149abb2fbfeda272">PSFGenerator::readPSFs</a></div><div class="ttdeci">void readPSFs(bool oversampled, Data::SubarrayDimensions subarrayDimensions)</div><div class="ttdoc">Reads in the PSF (can be oversampled or not, monochromatic or not) for the requested thermal map...</div><div class="ttdef"><b>Definition:</b> PSFGenerator.cxx:202</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a62d3cc16ee45be752f0a911627dfd0c2"><div class="ttname"><a href="class_p_s_f_generator.html#a62d3cc16ee45be752f0a911627dfd0c2">PSFGenerator::kPsfSize</a></div><div class="ttdeci">static const int kPsfSize</div><div class="ttdoc">Array size for non-oversampled PSF. </div><div class="ttdef"><b>Definition:</b> PSFGenerator.hxx:54</div></div>
<div class="ttc" id="class_p_s_f_generator_html_a104a59a07d40c1990fe1c18f2aa8a674"><div class="ttname"><a href="class_p_s_f_generator.html#a104a59a07d40c1990fe1c18f2aa8a674">PSFGenerator::doBegin</a></div><div class="ttdeci">void doBegin(Data *data, bool fullFrame=false)</div><div class="ttdoc">Further module initialization with access to data initialized by other modules. Called after precedin...</div><div class="ttdef"><b>Definition:</b> PSFGenerator.cxx:88</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 5 2021 21:04:02 for CHEOPSim by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
