<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>CHEOPSim: ImageWriter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cheops-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CHEOPSim
   &#160;<span id="projectnumber">06</span>
   </div>
   <div id="projectbrief">Simulation software for CHEOPS SOC</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="class_image_writer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ImageWriter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This <a class="el" href="class_module.html" title="Base class for all CHEOPSim modules. ">Module</a> is used to write CHEOSPim output from the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> in memory to FITS output files on disk.  
 <a href="class_image_writer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_image_writer_8hxx_source.html">ImageWriter.hxx</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ImageWriter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_image_writer.png" usemap="#ImageWriter_map" alt=""/>
  <map id="ImageWriter_map" name="ImageWriter_map">
<area href="class_module.html" title="Base class for all CHEOPSim modules. " alt="Module" shape="rect" coords="0,0,79,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_image_writer_1_1_averages.html">Averages</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct to hold mean, median, standard deviation and MAD values for CCD margins.  <a href="struct_image_writer_1_1_averages.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:add10b363f9f623a12361c2d3d1398305"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="add10b363f9f623a12361c2d3d1398305"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#add10b363f9f623a12361c2d3d1398305">MARGIN_MODE</a> { <b>image</b>, 
<b>reduced</b>, 
<b>total_collapsed</b>
 }</td></tr>
<tr class="memdesc:add10b363f9f623a12361c2d3d1398305"><td class="mdescLeft">&#160;</td><td class="mdescRight">Margin mode: image, reduced (3 values per row) or total collapsed (4 values in total) <br /></td></tr>
<tr class="separator:add10b363f9f623a12361c2d3d1398305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dda185a67753e981379b956860dbebb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1dda185a67753e981379b956860dbebb"></a>
typedef boost::multi_array<br class="typebreak" />
&lt; double, 2 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a1dda185a67753e981379b956860dbebb">array2D</a></td></tr>
<tr class="memdesc:a1dda185a67753e981379b956860dbebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">2D array type used for CCD margin sub-images <br /></td></tr>
<tr class="separator:a1dda185a67753e981379b956860dbebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_class_module"><td colspan="2" onclick="javascript:toggleInherit('pub_types_class_module')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_module.html">Module</a></td></tr>
<tr class="memitem:ac47ec2094c2373341b6b9e2cce7b12bc inherit pub_types_class_module"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bc">SCHEDULE</a> { <a class="el" href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bca2a60fcf825bbcc04736688150adc2d4c">begin</a>, 
<a class="el" href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bcabbb5130de0a6b70ac5313e4d51e0b896">timeLoop</a>, 
<a class="el" href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bca5dd3a2edeb11d510790e6173ed9e9727">end</a>
 }</td></tr>
<tr class="memdesc:ac47ec2094c2373341b6b9e2cce7b12bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">enum to define the scheduling of the module in <a class="el" href="class_simulator.html#a9c48ff02c0acfab6c6e5c512a38d3cc2" title="Runs the Simulator by initializing and running all Modules. ">Simulator::process()</a>  <a href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bc">More...</a><br /></td></tr>
<tr class="separator:ac47ec2094c2373341b6b9e2cce7b12bc inherit pub_types_class_module"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a267dc8d13dd96a473687f25b96859a2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a267dc8d13dd96a473687f25b96859a2a">initialize</a> (const ModuleParams &amp;params)</td></tr>
<tr class="memdesc:a267dc8d13dd96a473687f25b96859a2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the module by reading in parameters from the configuration file.  <a href="#a267dc8d13dd96a473687f25b96859a2a">More...</a><br /></td></tr>
<tr class="separator:a267dc8d13dd96a473687f25b96859a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f15bba29ec74ef72fc6ecbce911fd07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a4f15bba29ec74ef72fc6ecbce911fd07">doBegin</a> (<a class="el" href="class_data.html">Data</a> *data, bool fullFrame=false)</td></tr>
<tr class="memdesc:a4f15bba29ec74ef72fc6ecbce911fd07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Further module initialization with access to data initialized by other modules. Called after preceding modules have been initialized.  <a href="#a4f15bba29ec74ef72fc6ecbce911fd07">More...</a><br /></td></tr>
<tr class="separator:a4f15bba29ec74ef72fc6ecbce911fd07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f34a7b77a152f345e246271959d570d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a3f34a7b77a152f345e246271959d570d">process</a> (<a class="el" href="class_data.html">Data</a> *data, int timeStep, bool fullFrame=false) const </td></tr>
<tr class="memdesc:a3f34a7b77a152f345e246271959d570d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processing of the data. Called for each time step of the simulation if Module::Schedule is timeLoop (default), otherwise called once.  <a href="#a3f34a7b77a152f345e246271959d570d">More...</a><br /></td></tr>
<tr class="separator:a3f34a7b77a152f345e246271959d570d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d7570e3b0584b819e0c06f33f8e96bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a1d7570e3b0584b819e0c06f33f8e96bb">doEnd</a> (<a class="el" href="class_data.html">Data</a> *data) const </td></tr>
<tr class="memdesc:a1d7570e3b0584b819e0c06f33f8e96bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">For processing of data after the time loop (data reduction)  <a href="#a1d7570e3b0584b819e0c06f33f8e96bb">More...</a><br /></td></tr>
<tr class="separator:a1d7570e3b0584b819e0c06f33f8e96bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad546b16345b3368ba7ff56bf573ea8c"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:aad546b16345b3368ba7ff56bf573ea8c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#aad546b16345b3368ba7ff56bf573ea8c">setImageKeywords</a> (SciRawFullarray *imageCube, <a class="el" href="class_data.html">Data</a> *data, boost::posix_time::ptime startTime, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type) const </td></tr>
<tr class="memdesc:aad546b16345b3368ba7ff56bf573ea8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template specialization of setImageKeywords&lt;class T&gt; for T = SciRawFullarray.  <a href="#aad546b16345b3368ba7ff56bf573ea8c">More...</a><br /></td></tr>
<tr class="separator:aad546b16345b3368ba7ff56bf573ea8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8616c94ce7fd2d3cc9aab45c89dbc6ea"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:a8616c94ce7fd2d3cc9aab45c89dbc6ea"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a8616c94ce7fd2d3cc9aab45c89dbc6ea">setImageKeywords</a> (SciRawSubarray *imageCube, <a class="el" href="class_data.html">Data</a> *data, boost::posix_time::ptime startTime, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type) const </td></tr>
<tr class="memdesc:a8616c94ce7fd2d3cc9aab45c89dbc6ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template specialization of setImageKeywords&lt;class T&gt; for T = SciRawSubarray.  <a href="#a8616c94ce7fd2d3cc9aab45c89dbc6ea">More...</a><br /></td></tr>
<tr class="separator:a8616c94ce7fd2d3cc9aab45c89dbc6ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a522ad15c208dc8ac0fe25fff20f04b5e"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:a522ad15c208dc8ac0fe25fff20f04b5e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a522ad15c208dc8ac0fe25fff20f04b5e">setImageKeywords</a> (SimRawDoubleprecisionsubarray *imageCube, <a class="el" href="class_data.html">Data</a> *data, boost::posix_time::ptime startTime, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type) const </td></tr>
<tr class="memdesc:a522ad15c208dc8ac0fe25fff20f04b5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template specialization of setImageKeywords&lt;class T&gt; for T = SimRawDoubleprecisionsubarray.  <a href="#a522ad15c208dc8ac0fe25fff20f04b5e">More...</a><br /></td></tr>
<tr class="separator:a522ad15c208dc8ac0fe25fff20f04b5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bf81c9a2ba60966e2606007a813dd5a"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:a8bf81c9a2ba60966e2606007a813dd5a"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a8bf81c9a2ba60966e2606007a813dd5a">setImageKeywords</a> (SciRawImagette *imageCube, <a class="el" href="class_data.html">Data</a> *data, boost::posix_time::ptime startTime, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type) const </td></tr>
<tr class="memdesc:a8bf81c9a2ba60966e2606007a813dd5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template specialization of setImageKeywords&lt;class T&gt; for T = SciRawImagette.  <a href="#a8bf81c9a2ba60966e2606007a813dd5a">More...</a><br /></td></tr>
<tr class="separator:a8bf81c9a2ba60966e2606007a813dd5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53b8d056f16fdcc3f03b0ba7689d236e"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:a53b8d056f16fdcc3f03b0ba7689d236e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a53b8d056f16fdcc3f03b0ba7689d236e">setFitsImageCubeWithMetaData</a> (<a class="el" href="class_data.html">Data</a> *data, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type, SciRawSubarray *imageCube) const </td></tr>
<tr class="memdesc:a53b8d056f16fdcc3f03b0ba7689d236e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template specialization of setFitsImageCubeWithMetaData&lt;class T&gt; for T = SciRawSubarray.  <a href="#a53b8d056f16fdcc3f03b0ba7689d236e">More...</a><br /></td></tr>
<tr class="separator:a53b8d056f16fdcc3f03b0ba7689d236e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70059f17e43b518eb0c0d526323bd26d"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:a70059f17e43b518eb0c0d526323bd26d"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a70059f17e43b518eb0c0d526323bd26d">setFitsImageCubeWithMetaData</a> (<a class="el" href="class_data.html">Data</a> *data, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type, SimRawDoubleprecisionsubarray *imageCube) const </td></tr>
<tr class="memdesc:a70059f17e43b518eb0c0d526323bd26d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template specialization of setFitsImageCubeWithMetaData&lt;class T&gt; for T = SimRawDoubleprecisionsubarray.  <a href="#a70059f17e43b518eb0c0d526323bd26d">More...</a><br /></td></tr>
<tr class="separator:a70059f17e43b518eb0c0d526323bd26d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13703ce51f3fe5d719e473780d5313b7"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:a13703ce51f3fe5d719e473780d5313b7"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a13703ce51f3fe5d719e473780d5313b7">setFitsImageCubeWithMetaData</a> (<a class="el" href="class_data.html">Data</a> *data, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type, SimRawUnstackedsubarray *imageCube) const </td></tr>
<tr class="memdesc:a13703ce51f3fe5d719e473780d5313b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template specialization of setFitsImageCubeWithMetaData&lt;class T&gt; for T = SimRawUnstackedsubarray.  <a href="#a13703ce51f3fe5d719e473780d5313b7">More...</a><br /></td></tr>
<tr class="separator:a13703ce51f3fe5d719e473780d5313b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a897c77ebd44495457542fa28a7979b98"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:a897c77ebd44495457542fa28a7979b98"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a897c77ebd44495457542fa28a7979b98">setFitsImageCubeWithMetaData</a> (<a class="el" href="class_data.html">Data</a> *data, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type, SciRawImagette *imageCube) const </td></tr>
<tr class="memdesc:a897c77ebd44495457542fa28a7979b98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template specialization of setFitsImageCubeWithMetaData&lt;class T&gt; for T = SciRawImagette.  <a href="#a897c77ebd44495457542fa28a7979b98">More...</a><br /></td></tr>
<tr class="separator:a897c77ebd44495457542fa28a7979b98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_module"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_module')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_module.html">Module</a></td></tr>
<tr class="memitem:ae0a73efd635fc18f1ba321832e1ae05b inherit pub_methods_class_module"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_module.html#ae0a73efd635fc18f1ba321832e1ae05b">Module</a> (std::string name, <a class="el" href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bc">SCHEDULE</a> <a class="el" href="class_module.html#aad6050e202fb69becc2f04388f7db540">schedule</a>=<a class="el" href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bcabbb5130de0a6b70ac5313e4d51e0b896">timeLoop</a>)</td></tr>
<tr class="memdesc:ae0a73efd635fc18f1ba321832e1ae05b inherit pub_methods_class_module"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor initializes module name and scheduling.  <a href="#ae0a73efd635fc18f1ba321832e1ae05b">More...</a><br /></td></tr>
<tr class="separator:ae0a73efd635fc18f1ba321832e1ae05b inherit pub_methods_class_module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb5ccdae3385058610363f1c962d414b inherit pub_methods_class_module"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adb5ccdae3385058610363f1c962d414b"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_module.html#adb5ccdae3385058610363f1c962d414b">getName</a> ()</td></tr>
<tr class="memdesc:adb5ccdae3385058610363f1c962d414b inherit pub_methods_class_module"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the module. <br /></td></tr>
<tr class="separator:adb5ccdae3385058610363f1c962d414b inherit pub_methods_class_module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad6050e202fb69becc2f04388f7db540 inherit pub_methods_class_module"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad6050e202fb69becc2f04388f7db540"></a>
<a class="el" href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bc">SCHEDULE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_module.html#aad6050e202fb69becc2f04388f7db540">schedule</a> ()</td></tr>
<tr class="memdesc:aad6050e202fb69becc2f04388f7db540 inherit pub_methods_class_module"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the scheduling of the module in the processing sequence. <br /></td></tr>
<tr class="separator:aad6050e202fb69becc2f04388f7db540 inherit pub_methods_class_module"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:abc81621037c77e3d1b90c741861b752b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abc81621037c77e3d1b90c741861b752b"></a>
static const int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#abc81621037c77e3d1b90c741861b752b">kNullInt</a> = -2147483648</td></tr>
<tr class="memdesc:abc81621037c77e3d1b90c741861b752b"><td class="mdescLeft">&#160;</td><td class="mdescRight">NULL value for truth data. <br /></td></tr>
<tr class="separator:abc81621037c77e3d1b90c741861b752b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c4bfafa9645898edd2b458ca6b024c4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2c4bfafa9645898edd2b458ca6b024c4"></a>
static constexpr float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a2c4bfafa9645898edd2b458ca6b024c4">kNullFloat</a> = -9999.</td></tr>
<tr class="memdesc:a2c4bfafa9645898edd2b458ca6b024c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">NULL value for truth data. <br /></td></tr>
<tr class="separator:a2c4bfafa9645898edd2b458ca6b024c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a856b3374187c0577ba41ffa0e0e576c4"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a856b3374187c0577ba41ffa0e0e576c4"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a856b3374187c0577ba41ffa0e0e576c4">initializeFitsOutput</a> (<a class="el" href="class_data.html">Data</a> *data, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type, boost::posix_time::ptime startTime, unsigned numberOfImages) const </td></tr>
<tr class="memdesc:a856b3374187c0577ba41ffa0e0e576c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the output FITS file for the templated data type, sets the header keywords and adds FITS extensions to hold the CCD margin images. Also creates the output FITS file to contain the corresponding truth metadata and sets its header keywords.  <a href="#a856b3374187c0577ba41ffa0e0e576c4">More...</a><br /></td></tr>
<tr class="separator:a856b3374187c0577ba41ffa0e0e576c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a872a9adffe5bf6f0c2034f4c2ae7dc3d"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a872a9adffe5bf6f0c2034f4c2ae7dc3d"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a872a9adffe5bf6f0c2034f4c2ae7dc3d">initializeCcdMargins</a> (T *imageCube, <a class="el" href="class_data.html">Data</a> *data, int xdim, int ydim, boost::posix_time::ptime startTime, unsigned numberOfImages, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type) const </td></tr>
<tr class="memdesc:a872a9adffe5bf6f0c2034f4c2ae7dc3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds FITS extensions to the image cube to hold CCD margin images (dark, blank and overscan), and sets the corresponding header keywords.  <a href="#a872a9adffe5bf6f0c2034f4c2ae7dc3d">More...</a><br /></td></tr>
<tr class="separator:a872a9adffe5bf6f0c2034f4c2ae7dc3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a627d141ea85be42c9b7341781977ad74"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a627d141ea85be42c9b7341781977ad74">initializeCcdMargins</a> (SimRawUnstackedsubarray *imageCube, <a class="el" href="class_data.html">Data</a> *data, int xdim, int ydim, boost::posix_time::ptime startTime, unsigned numberOfImages, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type) const </td></tr>
<tr class="memdesc:a627d141ea85be42c9b7341781977ad74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template specialization of initializeCcdMarginImages&lt;class T&gt; for T = SimRawUnstackedsubarray (required because FITS image types differ)  <a href="#a627d141ea85be42c9b7341781977ad74">More...</a><br /></td></tr>
<tr class="separator:a627d141ea85be42c9b7341781977ad74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a971b313a86f9dcd0b47ae6188caa6c6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a971b313a86f9dcd0b47ae6188caa6c6c">initializeCcdMargins</a> (SciRawImagette *imageCube, <a class="el" href="class_data.html">Data</a> *data, int xdim, int ydim, boost::posix_time::ptime startTime, unsigned numberOfImages, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type) const </td></tr>
<tr class="memdesc:a971b313a86f9dcd0b47ae6188caa6c6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template specialization of initializeCcdMarginImages&lt;class T&gt; for T = SciRawImagette: performs no action since Imagette cube should not contain CCD margin extensions.  <a href="#a971b313a86f9dcd0b47ae6188caa6c6c">More...</a><br /></td></tr>
<tr class="separator:a971b313a86f9dcd0b47ae6188caa6c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32125b6551b061fe3823bdcdd16f082b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a32125b6551b061fe3823bdcdd16f082b">initializeCentroid</a> (<a class="el" href="class_data.html">Data</a> *data) const </td></tr>
<tr class="memdesc:a32125b6551b061fe3823bdcdd16f082b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the output FITS file for the onboard centroid and sets the header keywords.  <a href="#a32125b6551b061fe3823bdcdd16f082b">More...</a><br /></td></tr>
<tr class="separator:a32125b6551b061fe3823bdcdd16f082b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae68113cb2e396d5d3face70935c736c7"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:ae68113cb2e396d5d3face70935c736c7"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#ae68113cb2e396d5d3face70935c736c7">setImageKeywords</a> (T *imageCube, <a class="el" href="class_data.html">Data</a> *data, boost::posix_time::ptime startTime, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type) const </td></tr>
<tr class="memdesc:ae68113cb2e396d5d3face70935c736c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called from initializeFitsOutput. Sets header keywords for the image cube.  <a href="#ae68113cb2e396d5d3face70935c736c7">More...</a><br /></td></tr>
<tr class="separator:ae68113cb2e396d5d3face70935c736c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa97d8052976fb5ff2688cd31797e7e05"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:aa97d8052976fb5ff2688cd31797e7e05"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#aa97d8052976fb5ff2688cd31797e7e05">setReadoutKeywords</a> (T *imageCube, <a class="el" href="class_data.html">Data</a> *data, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type) const </td></tr>
<tr class="memdesc:aa97d8052976fb5ff2688cd31797e7e05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the keywords specifying the readout setup.  <a href="#aa97d8052976fb5ff2688cd31797e7e05">More...</a><br /></td></tr>
<tr class="separator:aa97d8052976fb5ff2688cd31797e7e05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c7f8e0c7f1d32afd7dcc3455c840423"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a5c7f8e0c7f1d32afd7dcc3455c840423">readoutScript</a> (string readMode, double exposureTime, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type) const </td></tr>
<tr class="memdesc:a5c7f8e0c7f1d32afd7dcc3455c840423"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the readout timing script ID.  <a href="#a5c7f8e0c7f1d32afd7dcc3455c840423">More...</a><br /></td></tr>
<tr class="separator:a5c7f8e0c7f1d32afd7dcc3455c840423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2965be25da31187e3c83c19ef401d0de"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a2965be25da31187e3c83c19ef401d0de"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a2965be25da31187e3c83c19ef401d0de">setEndTimeKeywords</a> (<a class="el" href="class_data.html">Data</a> *data, int timeStep, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type) const </td></tr>
<tr class="memdesc:a2965be25da31187e3c83c19ef401d0de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the keywords corresponding to the end time of the image cube. Called from writeImages after each write, so that the values are updated until the output file is closed.  <a href="#a2965be25da31187e3c83c19ef401d0de">More...</a><br /></td></tr>
<tr class="separator:a2965be25da31187e3c83c19ef401d0de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b6142750cd74249b97d4c3166b3e252"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a7b6142750cd74249b97d4c3166b3e252"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a7b6142750cd74249b97d4c3166b3e252">setCcdMarginImageEndTime</a> (<a class="el" href="class_data.html">Data</a> *data, UTC endTime_utc, UTC lastImageMidTime_utc) const </td></tr>
<tr class="memdesc:a7b6142750cd74249b97d4c3166b3e252"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the keywords corresponding to the end time of the image cube for the CCD margin images. Called from setEndTimeKeywords.  <a href="#a7b6142750cd74249b97d4c3166b3e252">More...</a><br /></td></tr>
<tr class="separator:a7b6142750cd74249b97d4c3166b3e252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b843e6625d2b9f749d78d2fc24c8ea1"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a3b843e6625d2b9f749d78d2fc24c8ea1"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a3b843e6625d2b9f749d78d2fc24c8ea1">setCcdMarginRowKeywords</a> (T *imageCube, <a class="el" href="class_data.html">Data</a> *data, boost::posix_time::ptime startTime, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type) const </td></tr>
<tr class="memdesc:a3b843e6625d2b9f749d78d2fc24c8ea1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the keywords for CCD margin (dark, blank and overscan) rows.  <a href="#a3b843e6625d2b9f749d78d2fc24c8ea1">More...</a><br /></td></tr>
<tr class="separator:a3b843e6625d2b9f749d78d2fc24c8ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d8d8ced1789bb5c77545060d997b9ac"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a0d8d8ced1789bb5c77545060d997b9ac"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a0d8d8ced1789bb5c77545060d997b9ac">setCcdMarginColumnKeywords</a> (T *imageCube, <a class="el" href="class_data.html">Data</a> *data, boost::posix_time::ptime startTime, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type) const </td></tr>
<tr class="memdesc:a0d8d8ced1789bb5c77545060d997b9ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the keywords for CCD margin (dark, blank and overscan) columns.  <a href="#a0d8d8ced1789bb5c77545060d997b9ac">More...</a><br /></td></tr>
<tr class="separator:a0d8d8ced1789bb5c77545060d997b9ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe69e01de53b53e64b37dd55176ee3d0"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:abe69e01de53b53e64b37dd55176ee3d0"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#abe69e01de53b53e64b37dd55176ee3d0">setCcdMarginDescriptionKeywords</a> (T *imageCube, <a class="el" href="class_data.html">Data</a> *data, bool fullFrame, int nAverages=0) const </td></tr>
<tr class="memdesc:abe69e01de53b53e64b37dd55176ee3d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the keywords to describe the format of the CCD margin columns.  <a href="#abe69e01de53b53e64b37dd55176ee3d0">More...</a><br /></td></tr>
<tr class="separator:abe69e01de53b53e64b37dd55176ee3d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d1c7149e7cbeddbe6e1921bb8bff5b8"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a9d1c7149e7cbeddbe6e1921bb8bff5b8"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a9d1c7149e7cbeddbe6e1921bb8bff5b8">setCommonKeywords</a> (T *imageCube, <a class="el" href="class_data.html">Data</a> *data, boost::posix_time::ptime startTime, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type) const </td></tr>
<tr class="memdesc:a9d1c7149e7cbeddbe6e1921bb8bff5b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the keywords that are common to all types of iamge cube.  <a href="#a9d1c7149e7cbeddbe6e1921bb8bff5b8">More...</a><br /></td></tr>
<tr class="separator:a9d1c7149e7cbeddbe6e1921bb8bff5b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a131db476ffb0dfa0ec68b66b45edb203"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a131db476ffb0dfa0ec68b66b45edb203"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a131db476ffb0dfa0ec68b66b45edb203">setImageOriginKeywords</a> (T *imageCube, <a class="el" href="class_data.html">Data</a> *data) const </td></tr>
<tr class="memdesc:a131db476ffb0dfa0ec68b66b45edb203"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the keywords for the x and y position of the image origin (defined as the offset of the image sub-array w.r.t. the edge of the exposed part of the CCD)  <a href="#a131db476ffb0dfa0ec68b66b45edb203">More...</a><br /></td></tr>
<tr class="separator:a131db476ffb0dfa0ec68b66b45edb203"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fe7fb2a6aad1a37c3cd11073bd657cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a1fe7fb2a6aad1a37c3cd11073bd657cc">setImageOriginKeywords</a> (SciRawFullarray *imageCube, <a class="el" href="class_data.html">Data</a> *data) const </td></tr>
<tr class="memdesc:a1fe7fb2a6aad1a37c3cd11073bd657cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template specialization of setImageOriginKeywords&lt;class T&gt; for T = SciRawFullarray: performs no action since full frame image cubes do not use image origin header keywords.  <a href="#a1fe7fb2a6aad1a37c3cd11073bd657cc">More...</a><br /></td></tr>
<tr class="separator:a1fe7fb2a6aad1a37c3cd11073bd657cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1ee48cf492f49876ecd2efc111b4d3f"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:af1ee48cf492f49876ecd2efc111b4d3f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#af1ee48cf492f49876ecd2efc111b4d3f">setVisitKeywords</a> (T *fitsFile) const </td></tr>
<tr class="memdesc:af1ee48cf492f49876ecd2efc111b4d3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets header keywords relating to the visit.  <a href="#af1ee48cf492f49876ecd2efc111b4d3f">More...</a><br /></td></tr>
<tr class="separator:af1ee48cf492f49876ecd2efc111b4d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a114470a6cb92b428dc9d4420b9e3e54c"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a114470a6cb92b428dc9d4420b9e3e54c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a114470a6cb92b428dc9d4420b9e3e54c">setTargetKeywords</a> (T *fitsFile) const </td></tr>
<tr class="memdesc:a114470a6cb92b428dc9d4420b9e3e54c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets header keywords relating to the target star.  <a href="#a114470a6cb92b428dc9d4420b9e3e54c">More...</a><br /></td></tr>
<tr class="separator:a114470a6cb92b428dc9d4420b9e3e54c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e8d28c48e95bbd3b7298a5543ebf206"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a7e8d28c48e95bbd3b7298a5543ebf206"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a7e8d28c48e95bbd3b7298a5543ebf206">setFitsImageCubeWithMetaData</a> (<a class="el" href="class_data.html">Data</a> *data, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type, T *imageCube) const </td></tr>
<tr class="memdesc:a7e8d28c48e95bbd3b7298a5543ebf206"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends the metadata as a FITS extension to the image cube, sets its header keywords, and adds the image cube and metadata to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a>.  <a href="#a7e8d28c48e95bbd3b7298a5543ebf206">More...</a><br /></td></tr>
<tr class="separator:a7e8d28c48e95bbd3b7298a5543ebf206"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80ff4ad845d6531636f536ca49eff695"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a80ff4ad845d6531636f536ca49eff695">saturateImages</a> (<a class="el" href="class_data.html">Data</a> *data, unsigned nBits) const </td></tr>
<tr class="memdesc:a80ff4ad845d6531636f536ca49eff695"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs ADU saturation of images by calling <a class="el" href="class_image.html#a25282f62adc51833c4803bfbddb4b13b" title="Performs ADC saturation according to the specified number of bits. Should be performed before integer...">Image::saturate</a> for each image.  <a href="#a80ff4ad845d6531636f536ca49eff695">More...</a><br /></td></tr>
<tr class="separator:a80ff4ad845d6531636f536ca49eff695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0711569a7c7511ce46d846dfc0de3b78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a0711569a7c7511ce46d846dfc0de3b78">stackImages</a> (<a class="el" href="class_data.html">Data</a> *data) const </td></tr>
<tr class="memdesc:a0711569a7c7511ce46d846dfc0de3b78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs integer rounding followed by image stacking.  <a href="#a0711569a7c7511ce46d846dfc0de3b78">More...</a><br /></td></tr>
<tr class="separator:a0711569a7c7511ce46d846dfc0de3b78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9a5d377f8ff0bee2c232b97a69e5b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a6e9a5d377f8ff0bee2c232b97a69e5b7">extractImagettes</a> (<a class="el" href="class_data.html">Data</a> *data) const </td></tr>
<tr class="memdesc:a6e9a5d377f8ff0bee2c232b97a69e5b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts an imagette from each unstacked image and stores it in the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> Imagette is centred on the centre of the sub-array, or on the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> barycentre, depending on the value of the dymanaicImagettes parameter.  <a href="#a6e9a5d377f8ff0bee2c232b97a69e5b7">More...</a><br /></td></tr>
<tr class="separator:a6e9a5d377f8ff0bee2c232b97a69e5b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c1c583549c0d5975a35801144281965"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a4c1c583549c0d5975a35801144281965">stackImagettes</a> (<a class="el" href="class_data.html">Data</a> *data) const </td></tr>
<tr class="memdesc:a4c1c583549c0d5975a35801144281965"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs stacking of imagettes.  <a href="#a4c1c583549c0d5975a35801144281965">More...</a><br /></td></tr>
<tr class="separator:a4c1c583549c0d5975a35801144281965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a289e4ad951e78cc9b551ebed9cd76481"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a289e4ad951e78cc9b551ebed9cd76481"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a289e4ad951e78cc9b551ebed9cd76481">writeImages</a> (<a class="el" href="class_data.html">Data</a> *data, int timeStep, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type) const </td></tr>
<tr class="memdesc:a289e4ad951e78cc9b551ebed9cd76481"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs writing of image output, called each time there a set of unstacked images corresponding to one stacked image in memory. Starts new image cubes on the first call or whenever an image cube is full. Calls saturateImages, followed by stackImages, followed by writeImageData, followed by setEndTimeKeywords.  <a href="#a289e4ad951e78cc9b551ebed9cd76481">More...</a><br /></td></tr>
<tr class="separator:a289e4ad951e78cc9b551ebed9cd76481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7daf4796281ca446340437e63dde35cc"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a7daf4796281ca446340437e63dde35cc"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a7daf4796281ca446340437e63dde35cc">writeImageData</a> (<a class="el" href="class_data.html">Data</a> *data, int imageCount, int cubeLayer, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type) const </td></tr>
<tr class="memdesc:a7daf4796281ca446340437e63dde35cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by writeImages. Writes image data to the image cube, including CCD margins and truth metadata.  <a href="#a7daf4796281ca446340437e63dde35cc">More...</a><br /></td></tr>
<tr class="separator:a7daf4796281ca446340437e63dde35cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90c3ec65b9d34e6c7d7c22f97bf22879"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a90c3ec65b9d34e6c7d7c22f97bf22879"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a90c3ec65b9d34e6c7d7c22f97bf22879">writePixelData</a> (T *imageCube, int cubeLayer, int i, int j, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type, double pixelValue, bool round=true) const </td></tr>
<tr class="memdesc:a90c3ec65b9d34e6c7d7c22f97bf22879"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the ADU value of the current pixel to the FITS image cube, casting to uint_16 or uint_32 according to the type of image.  <a href="#a90c3ec65b9d34e6c7d7c22f97bf22879">More...</a><br /></td></tr>
<tr class="separator:a90c3ec65b9d34e6c7d7c22f97bf22879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada18ecd1f4eb6887f0763b074b2b0801"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:ada18ecd1f4eb6887f0763b074b2b0801"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#ada18ecd1f4eb6887f0763b074b2b0801">writeCcdMargin</a> (<a class="el" href="class_data.html">Data</a> *data, <a class="el" href="class_image_writer.html#a1dda185a67753e981379b956860dbebb">array2D</a> *image, <a class="el" href="struct_image_writer_1_1_averages.html">ImageWriter::Averages</a> averages, int cubeLayer, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type, <a class="el" href="class_image_writer.html#add10b363f9f623a12361c2d3d1398305">MARGIN_MODE</a> marginMode) const </td></tr>
<tr class="memdesc:ada18ecd1f4eb6887f0763b074b2b0801"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by writeImageData. Writes CCD margin data according to the margin mode to the corresponding FITS extension of the image cube.  <a href="#ada18ecd1f4eb6887f0763b074b2b0801">More...</a><br /></td></tr>
<tr class="separator:ada18ecd1f4eb6887f0763b074b2b0801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adab38e4114bc10318294a537cc2b7347"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:adab38e4114bc10318294a537cc2b7347"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#adab38e4114bc10318294a537cc2b7347">writeCcdMarginImage</a> (<a class="el" href="class_data.html">Data</a> *data, <a class="el" href="class_image_writer.html#a1dda185a67753e981379b956860dbebb">array2D</a> *image, int cubeLayer, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type) const </td></tr>
<tr class="memdesc:adab38e4114bc10318294a537cc2b7347"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by writeImageData. Writes image data for CCD margins to the corresponding FITS extension of the image cube.  <a href="#adab38e4114bc10318294a537cc2b7347">More...</a><br /></td></tr>
<tr class="separator:adab38e4114bc10318294a537cc2b7347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45f07854535a97e927cd910f07a4fcb8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_image_writer_1_1_averages.html">Averages</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a45f07854535a97e927cd910f07a4fcb8">ccdMarginAverages</a> (<a class="el" href="class_image_writer.html#a1dda185a67753e981379b956860dbebb">array2D</a> *image, int rowcol_index=-1) const </td></tr>
<tr class="memdesc:a45f07854535a97e927cd910f07a4fcb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by writeFullFrameImage and writeImageData. Returns the mean, median, standard deviation and MAD values for a CCD margin region collapsed to a single row/column (reduced mode) or to a single value (total collapsed mode).  <a href="#a45f07854535a97e927cd910f07a4fcb8">More...</a><br /></td></tr>
<tr class="separator:a45f07854535a97e927cd910f07a4fcb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd55f71d55b317701d8c2cbeacc01106"><td class="memItemLeft" align="right" valign="top">pair&lt; double, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#afd55f71d55b317701d8c2cbeacc01106">getBarycentre</a> (const <a class="el" href="class_image.html">Image</a> *image, const <a class="el" href="struct_data_1_1_subarray_dimensions.html">Data::SubarrayDimensions</a> &amp;subarray) const </td></tr>
<tr class="memdesc:afd55f71d55b317701d8c2cbeacc01106"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> barycentre either from truth or from photometric extraction depending on the truthBarycentre input parameter.  <a href="#afd55f71d55b317701d8c2cbeacc01106">More...</a><br /></td></tr>
<tr class="separator:afd55f71d55b317701d8c2cbeacc01106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a1c80e2e03b17d1829b82c04c5f5a69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a7a1c80e2e03b17d1829b82c04c5f5a69">writeMetaData</a> (<a class="el" href="class_data.html">Data</a> *data, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type, int imageCount) const </td></tr>
<tr class="memdesc:a7a1c80e2e03b17d1829b82c04c5f5a69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the image metadata for the specified image, including CCD margins collapsed to single values.  <a href="#a7a1c80e2e03b17d1829b82c04c5f5a69">More...</a><br /></td></tr>
<tr class="separator:a7a1c80e2e03b17d1829b82c04c5f5a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38cf00bf26415596f79c8906dfbca40f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a38cf00bf26415596f79c8906dfbca40f">writeCentroid</a> (<a class="el" href="class_data.html">Data</a> *data, int timeStep) const </td></tr>
<tr class="memdesc:a38cf00bf26415596f79c8906dfbca40f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the centroid the current image to a SCI_RAW_Centroid FITS file. The centroid is calculated using the getBarycentre method.  <a href="#a38cf00bf26415596f79c8906dfbca40f">More...</a><br /></td></tr>
<tr class="separator:a38cf00bf26415596f79c8906dfbca40f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a024c58e2d969ec3f9e3b6fac7f94adb1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a024c58e2d969ec3f9e3b6fac7f94adb1">writeTruthMetaData</a> (<a class="el" href="class_data.html">Data</a> *data, <a class="el" href="class_truth_data.html">TruthData</a> *truthData, int imageXOffset, int imageYOffset, int imageXSize, int imageYSize, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type, int imageCount) const </td></tr>
<tr class="memdesc:a024c58e2d969ec3f9e3b6fac7f94adb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the truth metadata for the current image to a SIM_TRU_Subarray or SIM_TRU_FullArray FITS file. Calls fillTruthData.  <a href="#a024c58e2d969ec3f9e3b6fac7f94adb1">More...</a><br /></td></tr>
<tr class="separator:a024c58e2d969ec3f9e3b6fac7f94adb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa22ab4498fd04ee3910bd82eef8cd85"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:aaa22ab4498fd04ee3910bd82eef8cd85"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_image_writer.html#aaa22ab4498fd04ee3910bd82eef8cd85">fillTruthData</a> (T *truthMetaData, <a class="el" href="class_truth_data.html">TruthData</a> *truthData, vector&lt; <a class="el" href="class_satellite_data.html">SatelliteData</a> * &gt; satData, int imageXOffset, int imageYOffset, unsigned imageXSize, unsigned imageYSize, bool fullFrame, bool imagette) const </td></tr>
<tr class="memdesc:aaa22ab4498fd04ee3910bd82eef8cd85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the truth information from the <a class="el" href="class_truth_data.html" title="Container class for truth information. ">TruthData</a> object associated to the <a class="el" href="class_image.html" title="2D image array ">Image</a> in memory to the SIM_TRU_Subarray or SIM_TRU_FullArray FITS file. Called by writeTruthMetaData.  <a href="#aaa22ab4498fd04ee3910bd82eef8cd85">More...</a><br /></td></tr>
<tr class="separator:aaa22ab4498fd04ee3910bd82eef8cd85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a053a59a996945974910f2ace8e474219"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a053a59a996945974910f2ace8e474219">printTruthData</a> (<a class="el" href="class_truth_data.html">TruthData</a> *truthData) const </td></tr>
<tr class="memdesc:a053a59a996945974910f2ace8e474219"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the truth information to the log file.  <a href="#a053a59a996945974910f2ace8e474219">More...</a><br /></td></tr>
<tr class="separator:a053a59a996945974910f2ace8e474219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed916f6a98bef7962b76b0d333875473"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#aed916f6a98bef7962b76b0d333875473">writeTruthSmearTrails</a> (<a class="el" href="class_data.html">Data</a> *data, int imageCount, int cubeLayer) const </td></tr>
<tr class="memdesc:aed916f6a98bef7962b76b0d333875473"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by writeImages. Writes images for frame transfer smear trails.  <a href="#aed916f6a98bef7962b76b0d333875473">More...</a><br /></td></tr>
<tr class="separator:aed916f6a98bef7962b76b0d333875473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbca6739e6699124f77bb432aef3f2a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#adbca6739e6699124f77bb432aef3f2a6">writeTruthCosmicImage</a> (<a class="el" href="class_data.html">Data</a> *data, int imageCount, int cubeLayer) const </td></tr>
<tr class="memdesc:adbca6739e6699124f77bb432aef3f2a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by writeImages. Writes images containing cosmic rays only.  <a href="#adbca6739e6699124f77bb432aef3f2a6">More...</a><br /></td></tr>
<tr class="separator:adbca6739e6699124f77bb432aef3f2a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7048da6679a88ada6bec16e79fed5127"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a7048da6679a88ada6bec16e79fed5127">writeFullFrameImage</a> (<a class="el" href="class_data.html">Data</a> *data, int timeStep, bool initialFullFrame) const </td></tr>
<tr class="memdesc:a7048da6679a88ada6bec16e79fed5127"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a SCI_RAW_FullArray FITS file, defines its metadata, and writes the full frame image data to it.  <a href="#a7048da6679a88ada6bec16e79fed5127">More...</a><br /></td></tr>
<tr class="separator:a7048da6679a88ada6bec16e79fed5127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab94c6bef0ea1770320fdcf1c58830f52"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#ab94c6bef0ea1770320fdcf1c58830f52">getImageDuration</a> (<a class="el" href="class_time_configuration.html">TimeConfiguration</a> timeConf, <a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a> type) const </td></tr>
<tr class="memdesc:ab94c6bef0ea1770320fdcf1c58830f52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the duration of an image in seconds. For stacked images, the duration is from the start of the first exposure to the end of the last exposure. It does not include the gap after the end of the last exposure in the case where the repetition period is longer than the exposure duration.  <a href="#ab94c6bef0ea1770320fdcf1c58830f52">More...</a><br /></td></tr>
<tr class="separator:ab94c6bef0ea1770320fdcf1c58830f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2720dc6baeb8286240bf2dabf64f06bb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2720dc6baeb8286240bf2dabf64f06bb"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a2720dc6baeb8286240bf2dabf64f06bb">m_writeUnstackedImages</a></td></tr>
<tr class="memdesc:a2720dc6baeb8286240bf2dabf64f06bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate whether or not to output unstacked images. <br /></td></tr>
<tr class="separator:a2720dc6baeb8286240bf2dabf64f06bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2168585e572416535f863af05042a5e6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2168585e572416535f863af05042a5e6"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a2168585e572416535f863af05042a5e6">m_writeStackedImages</a></td></tr>
<tr class="memdesc:a2168585e572416535f863af05042a5e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate whether or not to output stacked images. <br /></td></tr>
<tr class="separator:a2168585e572416535f863af05042a5e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0d6ee017fefbbd33f16610ec5a959a5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad0d6ee017fefbbd33f16610ec5a959a5"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#ad0d6ee017fefbbd33f16610ec5a959a5">m_writeImagettes</a></td></tr>
<tr class="memdesc:ad0d6ee017fefbbd33f16610ec5a959a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate whether or not to output imagettes. <br /></td></tr>
<tr class="separator:ad0d6ee017fefbbd33f16610ec5a959a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b4cfb4f6ce4f07f8f8e2fb6b011efad"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6b4cfb4f6ce4f07f8f8e2fb6b011efad"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a6b4cfb4f6ce4f07f8f8e2fb6b011efad">m_dynamicImagettes</a></td></tr>
<tr class="memdesc:a6b4cfb4f6ce4f07f8f8e2fb6b011efad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate if imagette extraction should be dynamic (the centre of the imagette follows the centroid) rather than static (fixed position on CCD - required if m_stackImagettes is true) <br /></td></tr>
<tr class="separator:a6b4cfb4f6ce4f07f8f8e2fb6b011efad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c9d11367525ded9533759ca8dea3cc8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2c9d11367525ded9533759ca8dea3cc8"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a2c9d11367525ded9533759ca8dea3cc8">m_stackImagettes</a></td></tr>
<tr class="memdesc:a2c9d11367525ded9533759ca8dea3cc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate whether or not to stack the imagettes (requires m_dynamicImagettes to be false) <br /></td></tr>
<tr class="separator:a2c9d11367525ded9533759ca8dea3cc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e4686bc5f5d0d04299bc3c188f0dd62"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8e4686bc5f5d0d04299bc3c188f0dd62"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a8e4686bc5f5d0d04299bc3c188f0dd62">m_imagetteShape</a></td></tr>
<tr class="memdesc:a8e4686bc5f5d0d04299bc3c188f0dd62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shape of the imagettes: either CIRCULAR or RECTANGULAR. <br /></td></tr>
<tr class="separator:a8e4686bc5f5d0d04299bc3c188f0dd62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9caa4b20b5f17463e3c5798b916b6106"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9caa4b20b5f17463e3c5798b916b6106"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a9caa4b20b5f17463e3c5798b916b6106">m_subarrayShape</a></td></tr>
<tr class="memdesc:a9caa4b20b5f17463e3c5798b916b6106"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shape of the sub-array images: either CIRCULAR or RECTANGULAR. <br /></td></tr>
<tr class="separator:a9caa4b20b5f17463e3c5798b916b6106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1b81e280d465630add979359143beed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af1b81e280d465630add979359143beed"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#af1b81e280d465630add979359143beed">m_doublePrecisionStackedImages</a></td></tr>
<tr class="memdesc:af1b81e280d465630add979359143beed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate whether or not stacked images should be output in double precision. <br /></td></tr>
<tr class="separator:af1b81e280d465630add979359143beed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5110ffd0fef943ad0d7b97c2aa38bb3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab5110ffd0fef943ad0d7b97c2aa38bb3"></a>
<a class="el" href="class_image_writer.html#add10b363f9f623a12361c2d3d1398305">MARGIN_MODE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#ab5110ffd0fef943ad0d7b97c2aa38bb3">m_marginMode</a></td></tr>
<tr class="memdesc:ab5110ffd0fef943ad0d7b97c2aa38bb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Margin mode for the visit (image, reduced or total collapsed) <br /></td></tr>
<tr class="separator:ab5110ffd0fef943ad0d7b97c2aa38bb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a453ed1b41a9217f0d8dd6d3c849edd6e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a453ed1b41a9217f0d8dd6d3c849edd6e"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a453ed1b41a9217f0d8dd6d3c849edd6e">m_writeCentroid</a></td></tr>
<tr class="memdesc:a453ed1b41a9217f0d8dd6d3c849edd6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate whether or not to output onboard centroid data. <br /></td></tr>
<tr class="separator:a453ed1b41a9217f0d8dd6d3c849edd6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a720098b4fd2e79d256de853981910dab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a720098b4fd2e79d256de853981910dab"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a720098b4fd2e79d256de853981910dab">m_writeTruthData</a></td></tr>
<tr class="memdesc:a720098b4fd2e79d256de853981910dab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate whether or not to output truth data. <br /></td></tr>
<tr class="separator:a720098b4fd2e79d256de853981910dab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a764bc90b0150ccadb297913db707c361"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a764bc90b0150ccadb297913db707c361"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a764bc90b0150ccadb297913db707c361">m_imagetteSize</a></td></tr>
<tr class="memdesc:a764bc90b0150ccadb297913db707c361"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of imagette in number of pixels along each side of a square. <br /></td></tr>
<tr class="separator:a764bc90b0150ccadb297913db707c361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cc6d11e8eb641bbea10dbb9a86978e3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0cc6d11e8eb641bbea10dbb9a86978e3"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a0cc6d11e8eb641bbea10dbb9a86978e3">m_stackingMethod</a></td></tr>
<tr class="memdesc:a0cc6d11e8eb641bbea10dbb9a86978e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stacking method: coadd (coaddition) or mean (mean value for each pixel) <br /></td></tr>
<tr class="separator:a0cc6d11e8eb641bbea10dbb9a86978e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c59918232d08f85c186098cdafd7445"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5c59918232d08f85c186098cdafd7445"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a5c59918232d08f85c186098cdafd7445">m_marginStackingMethod</a></td></tr>
<tr class="memdesc:a5c59918232d08f85c186098cdafd7445"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stacking method: coadd (coaddition) or mean (mean value for each pixel) to be applied to the CCD margins. <br /></td></tr>
<tr class="separator:a5c59918232d08f85c186098cdafd7445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a483265d6bfe54649cb0c18c0751d66e3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a483265d6bfe54649cb0c18c0751d66e3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a483265d6bfe54649cb0c18c0751d66e3">m_truthBarycentre</a></td></tr>
<tr class="memdesc:a483265d6bfe54649cb0c18c0751d66e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate whether or not to use to the truth barycentre rather than the barycentre from photometry. <br /></td></tr>
<tr class="separator:a483265d6bfe54649cb0c18c0751d66e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7464c35738102161036d055cc45d19f6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7464c35738102161036d055cc45d19f6"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a7464c35738102161036d055cc45d19f6">m_targetLocationFromJitter</a></td></tr>
<tr class="memdesc:a7464c35738102161036d055cc45d19f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate whether or not to define the target location using the jitter offsets in order to have a different target location for each image. <br /></td></tr>
<tr class="separator:a7464c35738102161036d055cc45d19f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d6dc0165a7070a00153becfb3a194db"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0d6dc0165a7070a00153becfb3a194db"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a0d6dc0165a7070a00153becfb3a194db">m_imagettesPerStackedSubarray</a></td></tr>
<tr class="memdesc:a0d6dc0165a7070a00153becfb3a194db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of imagettes corresponding to each stacked sub-array. <br /></td></tr>
<tr class="separator:a0d6dc0165a7070a00153becfb3a194db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b09f74298399319cabc90a4c1c21db3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4b09f74298399319cabc90a4c1c21db3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a4b09f74298399319cabc90a4c1c21db3">m_redundantHardware</a></td></tr>
<tr class="memdesc:a4b09f74298399319cabc90a4c1c21db3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate whether or not to use the redundant right amplifier rather than left amplifier for CCD readout. <br /></td></tr>
<tr class="separator:a4b09f74298399319cabc90a4c1c21db3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade52cd316edf853e445aceff626f36ed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade52cd316edf853e445aceff626f36ed"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#ade52cd316edf853e445aceff626f36ed">m_ceCounterOffset</a></td></tr>
<tr class="memdesc:ade52cd316edf853e445aceff626f36ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">CE counter initial offset, intended for Dark Frame M&amp;C data, for which CE counter increments through consecutive visits. <br /></td></tr>
<tr class="separator:ade52cd316edf853e445aceff626f36ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c75e022ecb536c0aba0143b3a8c1230"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c75e022ecb536c0aba0143b3a8c1230"></a>
<a class="el" href="struct_data_1_1_visit.html">Data::Visit</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a3c75e022ecb536c0aba0143b3a8c1230">m_visit</a></td></tr>
<tr class="memdesc:a3c75e022ecb536c0aba0143b3a8c1230"><td class="mdescLeft">&#160;</td><td class="mdescRight">Visit ID data. <br /></td></tr>
<tr class="separator:a3c75e022ecb536c0aba0143b3a8c1230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3145c0a897a7e581a14e76be04ae33e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad3145c0a897a7e581a14e76be04ae33e"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#ad3145c0a897a7e581a14e76be04ae33e">m_specType</a></td></tr>
<tr class="memdesc:ad3145c0a897a7e581a14e76be04ae33e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Spectral type to be used for header keywords. <br /></td></tr>
<tr class="separator:ad3145c0a897a7e581a14e76be04ae33e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f523f5aa759704e8e33303dc51c7472"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3f523f5aa759704e8e33303dc51c7472"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a3f523f5aa759704e8e33303dc51c7472">m_TEff</a></td></tr>
<tr class="memdesc:a3f523f5aa759704e8e33303dc51c7472"><td class="mdescLeft">&#160;</td><td class="mdescRight">Effective temperature to be used for header keywords. <br /></td></tr>
<tr class="separator:a3f523f5aa759704e8e33303dc51c7472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34ab382acda1ce654c8e4a24783ec94d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a34ab382acda1ce654c8e4a24783ec94d"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a34ab382acda1ce654c8e4a24783ec94d">m_Gmag</a></td></tr>
<tr class="memdesc:a34ab382acda1ce654c8e4a24783ec94d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gaia magnitude of the star to be used for header keywords. <br /></td></tr>
<tr class="separator:a34ab382acda1ce654c8e4a24783ec94d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada119c7f24faf4771be7eeb0ede9cfe5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada119c7f24faf4771be7eeb0ede9cfe5"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#ada119c7f24faf4771be7eeb0ede9cfe5">m_cheopsMag</a></td></tr>
<tr class="memdesc:ada119c7f24faf4771be7eeb0ede9cfe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">CHEOPS magnitude of the star to be used for header keywords. <br /></td></tr>
<tr class="separator:ada119c7f24faf4771be7eeb0ede9cfe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ec1803f1ab6de0494c874a6a08e43de"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3ec1803f1ab6de0494c874a6a08e43de"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a3ec1803f1ab6de0494c874a6a08e43de">m_GmagErr</a></td></tr>
<tr class="memdesc:a3ec1803f1ab6de0494c874a6a08e43de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error on Gaia magnitude of the star to be used for header keywords. <br /></td></tr>
<tr class="separator:a3ec1803f1ab6de0494c874a6a08e43de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9181a79389bb8100f248c5124f31f061"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9181a79389bb8100f248c5124f31f061"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a9181a79389bb8100f248c5124f31f061">m_cheopsMagErr</a></td></tr>
<tr class="memdesc:a9181a79389bb8100f248c5124f31f061"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error on CHEOPS magnitude of the star to be used for header keywords. <br /></td></tr>
<tr class="separator:a9181a79389bb8100f248c5124f31f061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a83c35605b9acc83d96e656a393f592"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a83c35605b9acc83d96e656a393f592"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a2a83c35605b9acc83d96e656a393f592">m_nominalGain</a></td></tr>
<tr class="memdesc:a2a83c35605b9acc83d96e656a393f592"><td class="mdescLeft">&#160;</td><td class="mdescRight">Nominal gain. <br /></td></tr>
<tr class="separator:a2a83c35605b9acc83d96e656a393f592"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ac0c4ffe9fc3efbc6e2f6a3369c76b2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ac0c4ffe9fc3efbc6e2f6a3369c76b2"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a9ac0c4ffe9fc3efbc6e2f6a3369c76b2">m_mpsVisit</a></td></tr>
<tr class="memdesc:a9ac0c4ffe9fc3efbc6e2f6a3369c76b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">MPS visit ID. <br /></td></tr>
<tr class="separator:a9ac0c4ffe9fc3efbc6e2f6a3369c76b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9723b06e6b24ee2a1633cde8dcf0dfa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae9723b06e6b24ee2a1633cde8dcf0dfa"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#ae9723b06e6b24ee2a1633cde8dcf0dfa">m_dirname</a></td></tr>
<tr class="memdesc:ae9723b06e6b24ee2a1633cde8dcf0dfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of output directory. <br /></td></tr>
<tr class="separator:ae9723b06e6b24ee2a1633cde8dcf0dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b6bdbe2c0fd2a899d45d3b9d44609f9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7b6bdbe2c0fd2a899d45d3b9d44609f9"></a>
<a class="el" href="class_photometry.html">Photometry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a7b6bdbe2c0fd2a899d45d3b9d44609f9">m_photometry</a></td></tr>
<tr class="memdesc:a7b6bdbe2c0fd2a899d45d3b9d44609f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to an instance of the <a class="el" href="class_photometry.html" title="Class to perform photometric extraction from an Image. ">Photometry</a> class, used to extract the barycentre. <br /></td></tr>
<tr class="separator:a7b6bdbe2c0fd2a899d45d3b9d44609f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a711b63c7cb5355dcad3414599e2b525c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a711b63c7cb5355dcad3414599e2b525c"></a>
static const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a711b63c7cb5355dcad3414599e2b525c">kJitterTruthSize</a> = 600</td></tr>
<tr class="memdesc:a711b63c7cb5355dcad3414599e2b525c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of array to hold jitter truth information for sub-array images. <br /></td></tr>
<tr class="separator:a711b63c7cb5355dcad3414599e2b525c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00406e55ced37a0711c24a90ce45c296"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a00406e55ced37a0711c24a90ce45c296"></a>
static const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a00406e55ced37a0711c24a90ce45c296">kPsfTruthSize</a> = 500</td></tr>
<tr class="memdesc:a00406e55ced37a0711c24a90ce45c296"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of array to hold <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> truth information for sub-array images. <br /></td></tr>
<tr class="separator:a00406e55ced37a0711c24a90ce45c296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20d226bea0cab7d4fa3b9494f5bb3c43"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20d226bea0cab7d4fa3b9494f5bb3c43"></a>
static const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a20d226bea0cab7d4fa3b9494f5bb3c43">kCosmicTruthSize</a> = 300</td></tr>
<tr class="memdesc:a20d226bea0cab7d4fa3b9494f5bb3c43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of array to hold cosmic ray truth information for sub-array images. <br /></td></tr>
<tr class="separator:a20d226bea0cab7d4fa3b9494f5bb3c43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada6954c3019515e7b865a65113226cfb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada6954c3019515e7b865a65113226cfb"></a>
static const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#ada6954c3019515e7b865a65113226cfb">kHotTruthSize</a> = 500</td></tr>
<tr class="memdesc:ada6954c3019515e7b865a65113226cfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of array to hold hot pixel truth information for sub-array images. <br /></td></tr>
<tr class="separator:ada6954c3019515e7b865a65113226cfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e7f8dae55fd5a6cd56405665f263fe3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0e7f8dae55fd5a6cd56405665f263fe3"></a>
static const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a0e7f8dae55fd5a6cd56405665f263fe3">kDeadTruthSize</a> = 200</td></tr>
<tr class="memdesc:a0e7f8dae55fd5a6cd56405665f263fe3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of array to hold dead pixel truth information for sub-array images. <br /></td></tr>
<tr class="separator:a0e7f8dae55fd5a6cd56405665f263fe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec015564f8daa37db652c66eee32287c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aec015564f8daa37db652c66eee32287c"></a>
static const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#aec015564f8daa37db652c66eee32287c">kCosmicTruthSize_fullFrame</a> = 2000</td></tr>
<tr class="memdesc:aec015564f8daa37db652c66eee32287c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of array to hold cosmic ray truth information for the full frame image. <br /></td></tr>
<tr class="separator:aec015564f8daa37db652c66eee32287c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a970ac9816c523db813963e4fed8154dd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a970ac9816c523db813963e4fed8154dd"></a>
static const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a970ac9816c523db813963e4fed8154dd">kHotTruthSize_fullFrame</a> = 12500</td></tr>
<tr class="memdesc:a970ac9816c523db813963e4fed8154dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of array to hold hot pixel truth information for the full frame image. <br /></td></tr>
<tr class="separator:a970ac9816c523db813963e4fed8154dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62351ea28d59d758e1201e1ac7973afc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a62351ea28d59d758e1201e1ac7973afc"></a>
static const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_writer.html#a62351ea28d59d758e1201e1ac7973afc">kDeadTruthSize_fullFrame</a> = 5000</td></tr>
<tr class="memdesc:a62351ea28d59d758e1201e1ac7973afc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of array to hold dead pixel truth information for the full frame image. <br /></td></tr>
<tr class="separator:a62351ea28d59d758e1201e1ac7973afc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_class_module"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_class_module')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="class_module.html">Module</a></td></tr>
<tr class="memitem:a38752828c317e81b202ab1c9e4cf7f79 inherit pro_attribs_class_module"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a38752828c317e81b202ab1c9e4cf7f79"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_module.html#a38752828c317e81b202ab1c9e4cf7f79">m_name</a></td></tr>
<tr class="memdesc:a38752828c317e81b202ab1c9e4cf7f79 inherit pro_attribs_class_module"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the module. <br /></td></tr>
<tr class="separator:a38752828c317e81b202ab1c9e4cf7f79 inherit pro_attribs_class_module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5ef8552c8a7e4e1d66244691cc6063c inherit pro_attribs_class_module"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5ef8552c8a7e4e1d66244691cc6063c"></a>
<a class="el" href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bc">SCHEDULE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_module.html#ac5ef8552c8a7e4e1d66244691cc6063c">m_schedule</a></td></tr>
<tr class="memdesc:ac5ef8552c8a7e4e1d66244691cc6063c inherit pro_attribs_class_module"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduling of the module in the processing sequence. <br /></td></tr>
<tr class="separator:ac5ef8552c8a7e4e1d66244691cc6063c inherit pro_attribs_class_module"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This <a class="el" href="class_module.html" title="Base class for all CHEOPSim modules. ">Module</a> is used to write CHEOSPim output from the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> in memory to FITS output files on disk. </p>
<hr/>
 <dl class="section author"><dt>Author</dt><dd>David Futyan UGE</dd></dl>
<p>Information written out by this <a class="el" href="class_module.html" title="Base class for all CHEOPSim modules. ">Module</a> includes all types of image (unstacked, stacked, imagettes, double precision stacked images, full frame images), including CCD margin data and image metadata as FITS extensions. With the exception of the full frame image, which is written once at the start of the simulation, all image data is written out each time there is a new stacked image, rather than for every time step. The class performs initialization of all output FITS data structures, including the setting of header keywords. The truth data associated to each image is also output. Houskeeping data is also output with user defined cadence. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a45f07854535a97e927cd910f07a4fcb8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_image_writer_1_1_averages.html">ImageWriter::Averages</a> ImageWriter::ccdMarginAverages </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_writer.html#a1dda185a67753e981379b956860dbebb">array2D</a> *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rowcol_index</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by writeFullFrameImage and writeImageData. Returns the mean, median, standard deviation and MAD values for a CCD margin region collapsed to a single row/column (reduced mode) or to a single value (total collapsed mode). </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">image</td><td>Pointer to the CCD margin image array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rowcol_index</td><td>Reduced mode: Index of column or row for which the average is to be calculated (should be called for each (column/row) of the margin). Total collapsed mode: For default value -1, calculates the average over all rows/columns of the margin </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mean, median, standard deviation and MAD values for the CCD margin region </dd></dl>

</div>
</div>
<a class="anchor" id="a4f15bba29ec74ef72fc6ecbce911fd07"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::doBegin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fullFrame</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Further module initialization with access to data initialized by other modules. Called after preceding modules have been initialized. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fullFrame</td><td>Boolean to indicate whether or not a full frame image is to be generated </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_module.html#a8468ed751f03ec474f966f21de09f9bf">Module</a>.</p>

</div>
</div>
<a class="anchor" id="a1d7570e3b0584b819e0c06f33f8e96bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::doEnd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For processing of data after the time loop (data reduction) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the data </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_module.html#afcf3db577060d3eb04d858655d09c775">Module</a>.</p>

</div>
</div>
<a class="anchor" id="a6e9a5d377f8ff0bee2c232b97a69e5b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::extractImagettes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts an imagette from each unstacked image and stores it in the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> Imagette is centred on the centre of the sub-array, or on the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> barycentre, depending on the value of the dymanaicImagettes parameter. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aaa22ab4498fd04ee3910bd82eef8cd85"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::fillTruthData </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>truthMetaData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_truth_data.html">TruthData</a> *&#160;</td>
          <td class="paramname"><em>truthData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; <a class="el" href="class_satellite_data.html">SatelliteData</a> * &gt;&#160;</td>
          <td class="paramname"><em>satData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>imageXOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>imageYOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>imageXSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>imageYSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fullFrame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>imagette</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies the truth information from the <a class="el" href="class_truth_data.html" title="Container class for truth information. ">TruthData</a> object associated to the <a class="el" href="class_image.html" title="2D image array ">Image</a> in memory to the SIM_TRU_Subarray or SIM_TRU_FullArray FITS file. Called by writeTruthMetaData. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">truthMetaData</td><td>Pointer to the truth metadata FITS table SIM_TRU_SubArray or SIM_TRU_FullArray </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">truthData</td><td>Pointer to the <a class="el" href="class_truth_data.html" title="Container class for truth information. ">TruthData</a> object associated to the current <a class="el" href="class_image.html" title="2D image array ">Image</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">satData</td><td>Pointer to the SateliteData </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageXOffset</td><td>Offset of the left edge of the image sub-array w.r.t. the left edge of the exposed part of the CCD </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageYOffset</td><td>Offset of the bottom edge of the image sub-array w.r.t. the bottom edge of the exposed part of the CCD </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageXSize</td><td>Number of pixels for x dimension of the sub-array image </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageYSize</td><td>Number of pixels for y dimension of the sub-array image </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fullFrame</td><td>Flag to indicate whether or not the image is full frame </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imagette</td><td>Flag to indicate whether or not the image is an imagette </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afd55f71d55b317701d8c2cbeacc01106"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pair&lt; double, double &gt; ImageWriter::getBarycentre </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_image.html">Image</a> *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_data_1_1_subarray_dimensions.html">Data::SubarrayDimensions</a> &amp;&#160;</td>
          <td class="paramname"><em>subarray</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> barycentre either from truth or from photometric extraction depending on the truthBarycentre input parameter. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">image</td><td>Pointer to the <a class="el" href="class_image.html" title="2D image array ">Image</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">subarray</td><td>Dimensions of the sub-array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> barycentre either from truth or from photometric extraction </dd></dl>

</div>
</div>
<a class="anchor" id="ab94c6bef0ea1770320fdcf1c58830f52"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double ImageWriter::getImageDuration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_time_configuration.html">TimeConfiguration</a>&#160;</td>
          <td class="paramname"><em>timeConf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the duration of an image in seconds. For stacked images, the duration is from the start of the first exposure to the end of the last exposure. It does not include the gap after the end of the last exposure in the case where the repetition period is longer than the exposure duration. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of image (stacked, unstacked, imagette or fullframe) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeConf</td><td>The time configuration </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a267dc8d13dd96a473687f25b96859a2a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::initialize </td>
          <td>(</td>
          <td class="paramtype">const ModuleParams &amp;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the module by reading in parameters from the configuration file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>Pointer to an instance of ProgramParams containing the CHEOPSim input parameters read in from the CHEOPSim configuration xml file </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_module.html#af4c2d2bdeb5d914c4afe75334ec79662">Module</a>.</p>

</div>
</div>
<a class="anchor" id="a872a9adffe5bf6f0c2034f4c2ae7dc3d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::initializeCcdMargins </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>imageCube</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>xdim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ydim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::posix_time::ptime&#160;</td>
          <td class="paramname"><em>startTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>numberOfImages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds FITS extensions to the image cube to hold CCD margin images (dark, blank and overscan), and sets the corresponding header keywords. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageCube</td><td>Pointer to the image cube </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xdim</td><td>Number of pixels for x dimension of the sub-array image </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ydim</td><td>Number of pixels for y dimension of the sub-array image </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">startTime</td><td>Time corresponding to the start of the first image in the current image cube </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numberOfImages</td><td>Number of images to be stored in the current image cube </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of image (stacked, unstacked, imagette or fullframe) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a627d141ea85be42c9b7341781977ad74"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::initializeCcdMargins </td>
          <td>(</td>
          <td class="paramtype">SimRawUnstackedsubarray *&#160;</td>
          <td class="paramname"><em>imageCube</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>xdim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ydim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::posix_time::ptime&#160;</td>
          <td class="paramname"><em>startTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>numberOfImages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Template specialization of initializeCcdMarginImages&lt;class T&gt; for T = SimRawUnstackedsubarray (required because FITS image types differ) </p>
<hr/>
 
</div>
</div>
<a class="anchor" id="a971b313a86f9dcd0b47ae6188caa6c6c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::initializeCcdMargins </td>
          <td>(</td>
          <td class="paramtype">SciRawImagette *&#160;</td>
          <td class="paramname"><em>imageCube</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>xdim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ydim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::posix_time::ptime&#160;</td>
          <td class="paramname"><em>startTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>numberOfImages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Template specialization of initializeCcdMarginImages&lt;class T&gt; for T = SciRawImagette: performs no action since Imagette cube should not contain CCD margin extensions. </p>
<hr/>
 
</div>
</div>
<a class="anchor" id="a32125b6551b061fe3823bdcdd16f082b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::initializeCentroid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates the output FITS file for the onboard centroid and sets the header keywords. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a856b3374187c0577ba41ffa0e0e576c4"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::initializeFitsOutput </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::posix_time::ptime&#160;</td>
          <td class="paramname"><em>startTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>numberOfImages</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates the output FITS file for the templated data type, sets the header keywords and adds FITS extensions to hold the CCD margin images. Also creates the output FITS file to contain the corresponding truth metadata and sets its header keywords. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of image (stacked, unstacked, imagette or fullframe) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">startTime</td><td>Time corresponding to the start of the first image in the current image cube </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numberOfImages</td><td>Number of images to be stored in the current image cube </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a053a59a996945974910f2ace8e474219"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::printTruthData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_truth_data.html">TruthData</a> *&#160;</td>
          <td class="paramname"><em>truthData</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints the truth information to the log file. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">truthData</td><td>Pointer to the <a class="el" href="class_truth_data.html" title="Container class for truth information. ">TruthData</a> object associated to the current <a class="el" href="class_image.html" title="2D image array ">Image</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3f34a7b77a152f345e246271959d570d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fullFrame</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processing of the data. Called for each time step of the simulation if Module::Schedule is timeLoop (default), otherwise called once. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeStep</td><td>Index of the current time step (only for Module::Schedule==timeloop) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fullFrame</td><td>Boolean to indicate whether or not a full frame image is to be generated </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_module.html#a2c3a2985dc3e1b5df7cc38cc200dba54">Module</a>.</p>

</div>
</div>
<a class="anchor" id="a5c7f8e0c7f1d32afd7dcc3455c840423"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ImageWriter::readoutScript </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>readMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>exposureTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the readout timing script ID. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">readMode</td><td>readout mode (ultrabright, bright, faint fast or faint) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">exposureTime</td><td>Exposure duration in seconds </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of image (stacked, unstacked, imagette or fullframe) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a80ff4ad845d6531636f536ca49eff695"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::saturateImages </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>nBits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs ADU saturation of images by calling <a class="el" href="class_image.html#a25282f62adc51833c4803bfbddb4b13b" title="Performs ADC saturation according to the specified number of bits. Should be performed before integer...">Image::saturate</a> for each image. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nBits</td><td>Number of bits for the ADC conversion </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0d8d8ced1789bb5c77545060d997b9ac"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setCcdMarginColumnKeywords </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>imageCube</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::posix_time::ptime&#160;</td>
          <td class="paramname"><em>startTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the keywords for CCD margin (dark, blank and overscan) columns. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageCube</td><td>Pointer to the image cube </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">startTime</td><td>Time corresponding to the start of the first image in the current image cube </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of image (stacked, unstacked, imagette or fullframe) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abe69e01de53b53e64b37dd55176ee3d0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setCcdMarginDescriptionKeywords </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>imageCube</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fullFrame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nAverages</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the keywords to describe the format of the CCD margin columns. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageCube</td><td>Pointer to the image cube </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fullFrame</td><td>Flag to indicate whether or not the image is full frame </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nAverages</td><td>Number of values for averages: can be 4 (mean, median, stddev, mad), 3 (mean, median, stddev), or the default value 0 (averges not calculated) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7b6142750cd74249b97d4c3166b3e252"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setCcdMarginImageEndTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UTC&#160;</td>
          <td class="paramname"><em>endTime_utc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UTC&#160;</td>
          <td class="paramname"><em>lastImageMidTime_utc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the keywords corresponding to the end time of the image cube for the CCD margin images. Called from setEndTimeKeywords. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">endTime_utc</td><td>UTC time corresponding to the end of the last image in the image cube </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastImageMidTime_utc</td><td>UTC time corresponding to the midpoint of the last image in the image cube </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3b843e6625d2b9f749d78d2fc24c8ea1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setCcdMarginRowKeywords </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>imageCube</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::posix_time::ptime&#160;</td>
          <td class="paramname"><em>startTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the keywords for CCD margin (dark, blank and overscan) rows. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageCube</td><td>Pointer to the image cube </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">startTime</td><td>Time corresponding to the start of the first image in the current image cube </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of image (stacked, unstacked, imagette or fullframe) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9d1c7149e7cbeddbe6e1921bb8bff5b8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setCommonKeywords </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>imageCube</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::posix_time::ptime&#160;</td>
          <td class="paramname"><em>startTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the keywords that are common to all types of iamge cube. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageCube</td><td>Pointer to the image cube </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">startTime</td><td>Time corresponding to the start of the first image in the current image cube </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of image (stacked, unstacked, imagette or fullframe) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2965be25da31187e3c83c19ef401d0de"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setEndTimeKeywords </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the keywords corresponding to the end time of the image cube. Called from writeImages after each write, so that the values are updated until the output file is closed. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeStep</td><td>Current time step of the simulation </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of image (stacked, unstacked, imagette or fullframe) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7e8d28c48e95bbd3b7298a5543ebf206"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setFitsImageCubeWithMetaData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>imageCube</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Appends the metadata as a FITS extension to the image cube, sets its header keywords, and adds the image cube and metadata to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a>. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of image (stacked, unstacked, imagette or fullframe) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageCube</td><td>Pointer to the image cube </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a53b8d056f16fdcc3f03b0ba7689d236e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setFitsImageCubeWithMetaData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SciRawSubarray *&#160;</td>
          <td class="paramname"><em>imageCube</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Template specialization of setFitsImageCubeWithMetaData&lt;class T&gt; for T = SciRawSubarray. </p>
<hr/>
 
</div>
</div>
<a class="anchor" id="a70059f17e43b518eb0c0d526323bd26d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setFitsImageCubeWithMetaData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SimRawDoubleprecisionsubarray *&#160;</td>
          <td class="paramname"><em>imageCube</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Template specialization of setFitsImageCubeWithMetaData&lt;class T&gt; for T = SimRawDoubleprecisionsubarray. </p>
<hr/>
 
</div>
</div>
<a class="anchor" id="a13703ce51f3fe5d719e473780d5313b7"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setFitsImageCubeWithMetaData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SimRawUnstackedsubarray *&#160;</td>
          <td class="paramname"><em>imageCube</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Template specialization of setFitsImageCubeWithMetaData&lt;class T&gt; for T = SimRawUnstackedsubarray. </p>
<hr/>
 
</div>
</div>
<a class="anchor" id="a897c77ebd44495457542fa28a7979b98"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setFitsImageCubeWithMetaData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SciRawImagette *&#160;</td>
          <td class="paramname"><em>imageCube</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Template specialization of setFitsImageCubeWithMetaData&lt;class T&gt; for T = SciRawImagette. </p>
<hr/>
 
</div>
</div>
<a class="anchor" id="ae68113cb2e396d5d3face70935c736c7"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setImageKeywords </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>imageCube</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::posix_time::ptime&#160;</td>
          <td class="paramname"><em>startTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called from initializeFitsOutput. Sets header keywords for the image cube. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageCube</td><td>Pointer to the image cube </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">startTime</td><td>Time corresponding to the start of the first image in the current image cube </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of image (stacked, unstacked, imagette or fullframe) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aad546b16345b3368ba7ff56bf573ea8c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setImageKeywords </td>
          <td>(</td>
          <td class="paramtype">SciRawFullarray *&#160;</td>
          <td class="paramname"><em>imageCube</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::posix_time::ptime&#160;</td>
          <td class="paramname"><em>startTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Template specialization of setImageKeywords&lt;class T&gt; for T = SciRawFullarray. </p>
<hr/>
 
</div>
</div>
<a class="anchor" id="a8616c94ce7fd2d3cc9aab45c89dbc6ea"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setImageKeywords </td>
          <td>(</td>
          <td class="paramtype">SciRawSubarray *&#160;</td>
          <td class="paramname"><em>imageCube</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::posix_time::ptime&#160;</td>
          <td class="paramname"><em>startTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Template specialization of setImageKeywords&lt;class T&gt; for T = SciRawSubarray. </p>
<hr/>
 
</div>
</div>
<a class="anchor" id="a522ad15c208dc8ac0fe25fff20f04b5e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setImageKeywords </td>
          <td>(</td>
          <td class="paramtype">SimRawDoubleprecisionsubarray *&#160;</td>
          <td class="paramname"><em>imageCube</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::posix_time::ptime&#160;</td>
          <td class="paramname"><em>startTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Template specialization of setImageKeywords&lt;class T&gt; for T = SimRawDoubleprecisionsubarray. </p>
<hr/>
 
</div>
</div>
<a class="anchor" id="a8bf81c9a2ba60966e2606007a813dd5a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setImageKeywords </td>
          <td>(</td>
          <td class="paramtype">SciRawImagette *&#160;</td>
          <td class="paramname"><em>imageCube</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::posix_time::ptime&#160;</td>
          <td class="paramname"><em>startTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Template specialization of setImageKeywords&lt;class T&gt; for T = SciRawImagette. </p>
<hr/>
 
</div>
</div>
<a class="anchor" id="a131db476ffb0dfa0ec68b66b45edb203"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setImageOriginKeywords </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>imageCube</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the keywords for the x and y position of the image origin (defined as the offset of the image sub-array w.r.t. the edge of the exposed part of the CCD) </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageCube</td><td>Pointer to the image cube </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1fe7fb2a6aad1a37c3cd11073bd657cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setImageOriginKeywords </td>
          <td>(</td>
          <td class="paramtype">SciRawFullarray *&#160;</td>
          <td class="paramname"><em>imageCube</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Template specialization of setImageOriginKeywords&lt;class T&gt; for T = SciRawFullarray: performs no action since full frame image cubes do not use image origin header keywords. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageCube</td><td>Pointer to the image cube </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa97d8052976fb5ff2688cd31797e7e05"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setReadoutKeywords </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>imageCube</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the keywords specifying the readout setup. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageCube</td><td>Pointer to the image cube </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of image (stacked, unstacked, imagette or fullframe) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a114470a6cb92b428dc9d4420b9e3e54c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setTargetKeywords </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>fitsFile</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets header keywords relating to the target star. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fitsFile</td><td>Pointer to the FITS file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af1ee48cf492f49876ecd2efc111b4d3f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::setVisitKeywords </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>fitsFile</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets header keywords relating to the visit. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fitsFile</td><td>Pointer to the FITS file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0711569a7c7511ce46d846dfc0de3b78"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::stackImages </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs integer rounding followed by image stacking. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4c1c583549c0d5975a35801144281965"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::stackImagettes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs stacking of imagettes. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ada18ecd1f4eb6887f0763b074b2b0801"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::writeCcdMargin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_image_writer.html#a1dda185a67753e981379b956860dbebb">array2D</a> *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_image_writer_1_1_averages.html">ImageWriter::Averages</a>&#160;</td>
          <td class="paramname"><em>averages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cubeLayer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_image_writer.html#add10b363f9f623a12361c2d3d1398305">MARGIN_MODE</a>&#160;</td>
          <td class="paramname"><em>marginMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by writeImageData. Writes CCD margin data according to the margin mode to the corresponding FITS extension of the image cube. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">image</td><td>Pointer to the CCD margin image array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">averages</td><td>Mean, median, standard deviation and MAD values for the margin </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cubeLayer</td><td>Layer of the current image cube to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of image (stacked, unstacked, imagette or fullframe) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">marginMode</td><td>Margin processing mode (image, reduced or total_collapsed) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adab38e4114bc10318294a537cc2b7347"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::writeCcdMarginImage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_image_writer.html#a1dda185a67753e981379b956860dbebb">array2D</a> *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cubeLayer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by writeImageData. Writes image data for CCD margins to the corresponding FITS extension of the image cube. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">image</td><td>Pointer to the CCD margin image array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">image</td><td>Pointer to the CCD margin image array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cubeLayer</td><td>Layer of the current image cube to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of image (stacked, unstacked, imagette or fullframe) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a38cf00bf26415596f79c8906dfbca40f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::writeCentroid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeStep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes the centroid the current image to a SCI_RAW_Centroid FITS file. The centroid is calculated using the getBarycentre method. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeStep</td><td>Current time step of the simulation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7048da6679a88ada6bec16e79fed5127"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::writeFullFrameImage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>initialFullFrame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a SCI_RAW_FullArray FITS file, defines its metadata, and writes the full frame image data to it. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeStep</td><td>Time step of the simulation (this method is called for images in the time loop if the sub-array dimension corresponds to the full frame) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">initialFullFrame</td><td>Boolean to indicate whether or not the image to be written is the full frame image before the time loop </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7daf4796281ca446340437e63dde35cc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::writeImageData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>imageCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cubeLayer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by writeImages. Writes image data to the image cube, including CCD margins and truth metadata. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageCount</td><td>Number of images since the start of the simulation </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cubeLayer</td><td>Layer of the current image cube to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of image (stacked, unstacked, imagette or fullframe) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a289e4ad951e78cc9b551ebed9cd76481"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::writeImages </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs writing of image output, called each time there a set of unstacked images corresponding to one stacked image in memory. Starts new image cubes on the first call or whenever an image cube is full. Calls saturateImages, followed by stackImages, followed by writeImageData, followed by setEndTimeKeywords. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeStep</td><td>Current time step of the simulation </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of image (stacked, unstacked, imagette or fullframe) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7a1c80e2e03b17d1829b82c04c5f5a69"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::writeMetaData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>imageCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes the image metadata for the specified image, including CCD margins collapsed to single values. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of image (stacked, unstacked, imagette or fullframe) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageCount</td><td>Number of images since the start of the simulation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a90c3ec65b9d34e6c7d7c22f97bf22879"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::writePixelData </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>imageCube</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cubeLayer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>pixelValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>round</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes the ADU value of the current pixel to the FITS image cube, casting to uint_16 or uint_32 according to the type of image. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageCube</td><td>Pointer to the image cube </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cubeLayer</td><td>Layer of the current image cube to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">i</td><td>Horizontal index of pixel (full CCD coordinates including margins) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">j</td><td>Vertical index of pixel (full CCD coordinates including margins) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of image (stacked, unstacked, imagette or fullframe) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pixelValue</td><td>ADU value for the pixel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">round</td><td>Flag to indicate whether or not to round to integer (set to false for CCD margins) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adbca6739e6699124f77bb432aef3f2a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::writeTruthCosmicImage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>imageCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cubeLayer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by writeImages. Writes images containing cosmic rays only. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageCount</td><td>Number of images since the start of the simulation </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cubeLayer</td><td>Layer of the current image cube to write to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a024c58e2d969ec3f9e3b6fac7f94adb1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::writeTruthMetaData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_truth_data.html">TruthData</a> *&#160;</td>
          <td class="paramname"><em>truthData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>imageXOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>imageYOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>imageXSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>imageYSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_data.html#ac2e022ecfc13420b0959208fee24781f">Data::IMAGETYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>imageCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes the truth metadata for the current image to a SIM_TRU_Subarray or SIM_TRU_FullArray FITS file. Calls fillTruthData. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">truthData</td><td>Pointer to the <a class="el" href="class_truth_data.html" title="Container class for truth information. ">TruthData</a> object associated to the current <a class="el" href="class_image.html" title="2D image array ">Image</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageXOffset</td><td>Offset of the left edge of the image sub-array w.r.t. the left edge of the exposed part of the CCD </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageYOffset</td><td>Offset of the bottom edge of the image sub-array w.r.t. the bottom edge of the exposed part of the CCD </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageXSize</td><td>Number of pixels for x dimension of the sub-array image </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageYSize</td><td>Number of pixels for y dimension of the sub-array image </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of image (stacked, unstacked, imagette or fullframe) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageCount</td><td>Number of images since the start of the simulation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aed916f6a98bef7962b76b0d333875473"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageWriter::writeTruthSmearTrails </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>imageCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cubeLayer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by writeImages. Writes images for frame transfer smear trails. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageCount</td><td>Number of images since the start of the simulation </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cubeLayer</td><td>Layer of the current image cube to write to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>simulator/include/<a class="el" href="_image_writer_8hxx_source.html">ImageWriter.hxx</a></li>
<li>simulator/src/ImageWriter.cxx</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 5 2021 21:04:02 for CHEOPSim by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
