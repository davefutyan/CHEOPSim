<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>CHEOPSim: PSFGenerator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cheops-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CHEOPSim
   &#160;<span id="projectnumber">06</span>
   </div>
   <div id="projectbrief">Simulation software for CHEOPS SOC</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_p_s_f_generator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PSFGenerator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module is used to generate an image of the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> at the appropriate position on the focal plane for each star in the field of view.  
 <a href="class_p_s_f_generator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_p_s_f_generator_8hxx_source.html">PSFGenerator.hxx</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for PSFGenerator:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_p_s_f_generator.png" usemap="#PSFGenerator_map" alt=""/>
  <map id="PSFGenerator_map" name="PSFGenerator_map">
<area href="class_module.html" title="Base class for all CHEOPSim modules. " alt="Module" shape="rect" coords="0,0,93,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ab37c9dd00a4284263342a696abf71c82"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82">POSITION_METHOD</a> { <a class="el" href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82aaa1d1752dda9c93e0a4a8d1da69e366c">Oversampling</a>, 
<a class="el" href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82a8047fc24a393492c9da7474cc3b91fd4">Interpolation</a>, 
<a class="el" href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82a552beda803c7c04993f04d841ee9e839">SnapToGrid</a>
 }</td></tr>
<tr class="memdesc:ab37c9dd00a4284263342a696abf71c82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Algorithm used to position the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> on the FOV.  <a href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82">More...</a><br /></td></tr>
<tr class="separator:ab37c9dd00a4284263342a696abf71c82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24b8622fd6752b2565e6df88011d651c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651c">THERMAL_MAP</a> { <br />
&#160;&#160;<a class="el" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651ca1ce2ad20c62b62e1838d3d8c65d666b9">fixed</a>, 
<a class="el" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651ca5208f790b6c299b314b5911f7b9c2cad">cold</a>, 
<a class="el" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651ca12c435c69ec0913d9be4f9083c7900d3">hot1</a>, 
<a class="el" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651cac96aae289cd8523205f39b02c6a3407c">hot2</a>, 
<br />
&#160;&#160;<a class="el" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651ca9f92287025302a21ea0cb10aa134f89b">breathing</a>
<br />
 }</td></tr>
<tr class="memdesc:a24b8622fd6752b2565e6df88011d651c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thermal map corresponding to the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a>.  <a href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651c">More...</a><br /></td></tr>
<tr class="separator:a24b8622fd6752b2565e6df88011d651c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_class_module"><td colspan="2" onclick="javascript:toggleInherit('pub_types_class_module')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_module.html">Module</a></td></tr>
<tr class="memitem:ac47ec2094c2373341b6b9e2cce7b12bc inherit pub_types_class_module"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bc">SCHEDULE</a> { <a class="el" href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bca2a60fcf825bbcc04736688150adc2d4c">begin</a>, 
<a class="el" href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bcabbb5130de0a6b70ac5313e4d51e0b896">timeLoop</a>, 
<a class="el" href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bca5dd3a2edeb11d510790e6173ed9e9727">end</a>
 }</td></tr>
<tr class="memdesc:ac47ec2094c2373341b6b9e2cce7b12bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">enum to define the scheduling of the module in <a class="el" href="class_simulator.html#a9c48ff02c0acfab6c6e5c512a38d3cc2" title="Runs the Simulator by initializing and running all Modules. ">Simulator::process()</a>  <a href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bc">More...</a><br /></td></tr>
<tr class="separator:ac47ec2094c2373341b6b9e2cce7b12bc inherit pub_types_class_module"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0d55ba47d92ed2aebc102b8d2c3ae246"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#a0d55ba47d92ed2aebc102b8d2c3ae246">initialize</a> (const ModuleParams &amp;params)</td></tr>
<tr class="memdesc:a0d55ba47d92ed2aebc102b8d2c3ae246"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the module by reading in parameters from the configuration file.  <a href="#a0d55ba47d92ed2aebc102b8d2c3ae246">More...</a><br /></td></tr>
<tr class="separator:a0d55ba47d92ed2aebc102b8d2c3ae246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a104a59a07d40c1990fe1c18f2aa8a674"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#a104a59a07d40c1990fe1c18f2aa8a674">doBegin</a> (<a class="el" href="class_data.html">Data</a> *data, bool fullFrame=false)</td></tr>
<tr class="memdesc:a104a59a07d40c1990fe1c18f2aa8a674"><td class="mdescLeft">&#160;</td><td class="mdescRight">Further module initialization with access to data initialized by other modules. Called after preceding modules have been initialized.  <a href="#a104a59a07d40c1990fe1c18f2aa8a674">More...</a><br /></td></tr>
<tr class="separator:a104a59a07d40c1990fe1c18f2aa8a674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b27c3d1091d527f949990dd1fd8ad65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#a9b27c3d1091d527f949990dd1fd8ad65">process</a> (<a class="el" href="class_data.html">Data</a> *data, int timeStep, bool fullFrame=false) const </td></tr>
<tr class="memdesc:a9b27c3d1091d527f949990dd1fd8ad65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processing of the data. Called for each time step of the simulation if Module::Schedule is timeLoop (default), otherwise called once.  <a href="#a9b27c3d1091d527f949990dd1fd8ad65">More...</a><br /></td></tr>
<tr class="separator:a9b27c3d1091d527f949990dd1fd8ad65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_module"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_module')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_module.html">Module</a></td></tr>
<tr class="memitem:ae0a73efd635fc18f1ba321832e1ae05b inherit pub_methods_class_module"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_module.html#ae0a73efd635fc18f1ba321832e1ae05b">Module</a> (std::string name, <a class="el" href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bc">SCHEDULE</a> <a class="el" href="class_module.html#aad6050e202fb69becc2f04388f7db540">schedule</a>=<a class="el" href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bcabbb5130de0a6b70ac5313e4d51e0b896">timeLoop</a>)</td></tr>
<tr class="memdesc:ae0a73efd635fc18f1ba321832e1ae05b inherit pub_methods_class_module"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor initializes module name and scheduling.  <a href="#ae0a73efd635fc18f1ba321832e1ae05b">More...</a><br /></td></tr>
<tr class="separator:ae0a73efd635fc18f1ba321832e1ae05b inherit pub_methods_class_module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcf3db577060d3eb04d858655d09c775 inherit pub_methods_class_module"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_module.html#afcf3db577060d3eb04d858655d09c775">doEnd</a> (<a class="el" href="class_data.html">Data</a> *data) const </td></tr>
<tr class="memdesc:afcf3db577060d3eb04d858655d09c775 inherit pub_methods_class_module"><td class="mdescLeft">&#160;</td><td class="mdescRight">For processing of data after the time loop (data reduction)  <a href="#afcf3db577060d3eb04d858655d09c775">More...</a><br /></td></tr>
<tr class="separator:afcf3db577060d3eb04d858655d09c775 inherit pub_methods_class_module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb5ccdae3385058610363f1c962d414b inherit pub_methods_class_module"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adb5ccdae3385058610363f1c962d414b"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_module.html#adb5ccdae3385058610363f1c962d414b">getName</a> ()</td></tr>
<tr class="memdesc:adb5ccdae3385058610363f1c962d414b inherit pub_methods_class_module"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the module. <br /></td></tr>
<tr class="separator:adb5ccdae3385058610363f1c962d414b inherit pub_methods_class_module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad6050e202fb69becc2f04388f7db540 inherit pub_methods_class_module"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad6050e202fb69becc2f04388f7db540"></a>
<a class="el" href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bc">SCHEDULE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_module.html#aad6050e202fb69becc2f04388f7db540">schedule</a> ()</td></tr>
<tr class="memdesc:aad6050e202fb69becc2f04388f7db540 inherit pub_methods_class_module"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the scheduling of the module in the processing sequence. <br /></td></tr>
<tr class="separator:aad6050e202fb69becc2f04388f7db540 inherit pub_methods_class_module"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a5d652b4b4e69f4eb570c1405089d8894"><td class="memItemLeft" align="right" valign="top">static constexpr double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#a5d652b4b4e69f4eb570c1405089d8894">kTelescopeArea</a> = 706.85835</td></tr>
<tr class="separator:a5d652b4b4e69f4eb570c1405089d8894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbface8f4e671f367648c9f2397ad188"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afbface8f4e671f367648c9f2397ad188"></a>
static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#afbface8f4e671f367648c9f2397ad188">kOversampledPsfSize</a> = 2000</td></tr>
<tr class="memdesc:afbface8f4e671f367648c9f2397ad188"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array size for oversampled <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a>. <br /></td></tr>
<tr class="separator:afbface8f4e671f367648c9f2397ad188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62d3cc16ee45be752f0a911627dfd0c2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a62d3cc16ee45be752f0a911627dfd0c2"></a>
static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#a62d3cc16ee45be752f0a911627dfd0c2">kPsfSize</a> = 200</td></tr>
<tr class="memdesc:a62d3cc16ee45be752f0a911627dfd0c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array size for non-oversampled <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a>. <br /></td></tr>
<tr class="separator:a62d3cc16ee45be752f0a911627dfd0c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af01c071bf55a847b1307bab0dca3d70d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af01c071bf55a847b1307bab0dca3d70d"></a>
static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#af01c071bf55a847b1307bab0dca3d70d">kNpsfTemp</a> = 4</td></tr>
<tr class="memdesc:af01c071bf55a847b1307bab0dca3d70d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of temperature bins for the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a>. <br /></td></tr>
<tr class="separator:af01c071bf55a847b1307bab0dca3d70d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae11b6e45b4366956d9b78aac94e66b53"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae11b6e45b4366956d9b78aac94e66b53"></a>
static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#ae11b6e45b4366956d9b78aac94e66b53">kNpsfWavelength</a> = 15</td></tr>
<tr class="memdesc:ae11b6e45b4366956d9b78aac94e66b53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of wavelength bins for the monochromatic <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a>. <br /></td></tr>
<tr class="separator:ae11b6e45b4366956d9b78aac94e66b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d8e66bff5b3bf51af4ee903a65665fc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4d8e66bff5b3bf51af4ee903a65665fc"></a>
static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#a4d8e66bff5b3bf51af4ee903a65665fc">kPsfWavelengthBinWidth</a> = 50</td></tr>
<tr class="memdesc:a4d8e66bff5b3bf51af4ee903a65665fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Width of wavelength bins for the monochromatic <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> in nm. <br /></td></tr>
<tr class="separator:a4d8e66bff5b3bf51af4ee903a65665fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89162ea86ff31de3112ddaf93129ecd6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a89162ea86ff31de3112ddaf93129ecd6"></a>
static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#a89162ea86ff31de3112ddaf93129ecd6">kPsfFirstWavelength</a> = 375</td></tr>
<tr class="memdesc:a89162ea86ff31de3112ddaf93129ecd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Central value of first wavelength bin for the monochromatic <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> in nm. <br /></td></tr>
<tr class="separator:a89162ea86ff31de3112ddaf93129ecd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91298096ef976f9dfc828e5f3e97355c"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#a91298096ef976f9dfc828e5f3e97355c">kPsfMargin</a> = 25</td></tr>
<tr class="separator:a91298096ef976f9dfc828e5f3e97355c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a65a60668c2572197149abb2fbfeda272"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#a65a60668c2572197149abb2fbfeda272">readPSFs</a> (bool oversampled, <a class="el" href="struct_data_1_1_subarray_dimensions.html">Data::SubarrayDimensions</a> subarrayDimensions)</td></tr>
<tr class="memdesc:a65a60668c2572197149abb2fbfeda272"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads in the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> (can be oversampled or not, monochromatic or not) for the requested thermal map, or for the two hot thermal maps for the breathing case. The resulting <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> is re-normalized to 1.  <a href="#a65a60668c2572197149abb2fbfeda272">More...</a><br /></td></tr>
<tr class="separator:a65a60668c2572197149abb2fbfeda272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e83ba200fac4381fe9838e558137efb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#a9e83ba200fac4381fe9838e558137efb">getWavelengthWeights</a> (<a class="el" href="class_data.html">Data</a> *data)</td></tr>
<tr class="memdesc:a9e83ba200fac4381fe9838e558137efb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates wavelength weights according to the black body spectrum defined by the effective temperature of the target star, together with the QE and throughput vs wavelength. The weights are used to construct the monochromatic <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a>.  <a href="#a9e83ba200fac4381fe9838e558137efb">More...</a><br /></td></tr>
<tr class="separator:a9e83ba200fac4381fe9838e558137efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3f34970efdec6617373cd08afa69c6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#ab3f34970efdec6617373cd08afa69c6e">interpolatePSF</a> (double jitteredPositionX, double jitteredPositionY, double **temperatureInterpolatedPsf, double **interpolatedPSF) const </td></tr>
<tr class="memdesc:ab3f34970efdec6617373cd08afa69c6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a bilinear spatial interpolation the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> to an array shifted w.r.t. the pixel grid and normalizes the resultant <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> to 1.  <a href="#ab3f34970efdec6617373cd08afa69c6e">More...</a><br /></td></tr>
<tr class="separator:ab3f34970efdec6617373cd08afa69c6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5995728a3d7ae89356f526922e4c1da"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#ae5995728a3d7ae89356f526922e4c1da">bilinearInterpolation</a> (double q11, double q12, double q21, double q22, double xfrac, double yfrac) const </td></tr>
<tr class="memdesc:ae5995728a3d7ae89356f526922e4c1da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by interpolatePSF. Returns the value of a pixel in the target grid (CCD) given the values of the 4 nearest pixels in the source grid (<a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a>) and the offset between the 2 grids in x and y.  <a href="#ae5995728a3d7ae89356f526922e4c1da">More...</a><br /></td></tr>
<tr class="separator:ae5995728a3d7ae89356f526922e4c1da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a575fbc5f16d2f915dee4fbf0332502d6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a575fbc5f16d2f915dee4fbf0332502d6"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#a575fbc5f16d2f915dee4fbf0332502d6">m_psfFilename</a></td></tr>
<tr class="memdesc:a575fbc5f16d2f915dee4fbf0332502d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filename for fits file used to define the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a>. <br /></td></tr>
<tr class="separator:a575fbc5f16d2f915dee4fbf0332502d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae772f24890d48d7800cc789e6d304f9c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae772f24890d48d7800cc789e6d304f9c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#ae772f24890d48d7800cc789e6d304f9c">m_oversampleJitter</a></td></tr>
<tr class="memdesc:ae772f24890d48d7800cc789e6d304f9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate whether or not to perform time oversampling of <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> position according to jitter and field of view rotation. <br /></td></tr>
<tr class="separator:ae772f24890d48d7800cc789e6d304f9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e561ca6793f01bd51a4874a9b28264d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2e561ca6793f01bd51a4874a9b28264d"></a>
<a class="el" href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82">POSITION_METHOD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#a2e561ca6793f01bd51a4874a9b28264d">m_targetStarPositioning</a></td></tr>
<tr class="memdesc:a2e561ca6793f01bd51a4874a9b28264d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for positioning the target star <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> onto the pixel grid: Oversampling, Interpolation, or SnapToGrid. <br /></td></tr>
<tr class="separator:a2e561ca6793f01bd51a4874a9b28264d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa84e3947856fa754c61c2d3254e63f41"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa84e3947856fa754c61c2d3254e63f41"></a>
<a class="el" href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82">POSITION_METHOD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#aa84e3947856fa754c61c2d3254e63f41">m_backgroundStarPositioning</a></td></tr>
<tr class="memdesc:aa84e3947856fa754c61c2d3254e63f41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for positioning background star PSFs onto the pixel grid: Oversampling, Interpolation, or SnapToGrid. <br /></td></tr>
<tr class="separator:aa84e3947856fa754c61c2d3254e63f41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8bbb043ea67803359f4557e4369e686"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab8bbb043ea67803359f4557e4369e686"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#ab8bbb043ea67803359f4557e4369e686">m_convertFluxToPhotons</a></td></tr>
<tr class="memdesc:ab8bbb043ea67803359f4557e4369e686"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate whether or not to output pixel values as number of photons or ergs. <br /></td></tr>
<tr class="separator:ab8bbb043ea67803359f4557e4369e686"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae937bdcda066ef28e9ef271ad7989f07"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae937bdcda066ef28e9ef271ad7989f07"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#ae937bdcda066ef28e9ef271ad7989f07">m_monochromaticPSF</a></td></tr>
<tr class="memdesc:ae937bdcda066ef28e9ef271ad7989f07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate whether or not the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> is constructed from PSFs binned in wavelength. <br /></td></tr>
<tr class="separator:ae937bdcda066ef28e9ef271ad7989f07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af79e83bfee6a5e02fe9b490ed9c02385"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af79e83bfee6a5e02fe9b490ed9c02385"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#af79e83bfee6a5e02fe9b490ed9c02385">m_monochromaticPSFwavelength</a></td></tr>
<tr class="memdesc:af79e83bfee6a5e02fe9b490ed9c02385"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wavelength for monochromatic <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a>. A weighted combination over wavelengths is performed if value is 0. <br /></td></tr>
<tr class="separator:af79e83bfee6a5e02fe9b490ed9c02385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dbd6ae5be2dcf01a012b1cf6fdf69be"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4dbd6ae5be2dcf01a012b1cf6fdf69be"></a>
<a class="el" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651c">THERMAL_MAP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#a4dbd6ae5be2dcf01a012b1cf6fdf69be">m_thermalMap</a></td></tr>
<tr class="memdesc:a4dbd6ae5be2dcf01a012b1cf6fdf69be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thermal map corresponding to the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a>: fixed, cold, hot1, hot2 or breathing. <br /></td></tr>
<tr class="separator:a4dbd6ae5be2dcf01a012b1cf6fdf69be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af38fd57a11f3c51b4d86955e37925f09"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af38fd57a11f3c51b4d86955e37925f09"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#af38fd57a11f3c51b4d86955e37925f09">m_oversampledPsf</a> [2000][2000][2]</td></tr>
<tr class="memdesc:af38fd57a11f3c51b4d86955e37925f09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array to hold the oversampled <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a>. 3rd dimension is thermal map used for breathing case only. <br /></td></tr>
<tr class="separator:af38fd57a11f3c51b4d86955e37925f09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fe61f28c2d7dbc8a85bd859be2b3188"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2fe61f28c2d7dbc8a85bd859be2b3188"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#a2fe61f28c2d7dbc8a85bd859be2b3188">m_psf</a> [200][200][2]</td></tr>
<tr class="memdesc:a2fe61f28c2d7dbc8a85bd859be2b3188"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array to hold the non-oversampled <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a>. 3rd dimension is thermal map used for breathing case only. <br /></td></tr>
<tr class="separator:a2fe61f28c2d7dbc8a85bd859be2b3188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2696b1f5f37eb0576e00ae13680f563"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa2696b1f5f37eb0576e00ae13680f563"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_s_f_generator.html#aa2696b1f5f37eb0576e00ae13680f563">m_weight</a> [<a class="el" href="class_p_s_f_generator.html#ae11b6e45b4366956d9b78aac94e66b53">kNpsfWavelength</a>]</td></tr>
<tr class="memdesc:aa2696b1f5f37eb0576e00ae13680f563"><td class="mdescLeft">&#160;</td><td class="mdescRight">Weight assigned to each <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> wavelength bin for the monochromatic case. <br /></td></tr>
<tr class="separator:aa2696b1f5f37eb0576e00ae13680f563"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_class_module"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_class_module')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="class_module.html">Module</a></td></tr>
<tr class="memitem:a38752828c317e81b202ab1c9e4cf7f79 inherit pro_attribs_class_module"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a38752828c317e81b202ab1c9e4cf7f79"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_module.html#a38752828c317e81b202ab1c9e4cf7f79">m_name</a></td></tr>
<tr class="memdesc:a38752828c317e81b202ab1c9e4cf7f79 inherit pro_attribs_class_module"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the module. <br /></td></tr>
<tr class="separator:a38752828c317e81b202ab1c9e4cf7f79 inherit pro_attribs_class_module"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5ef8552c8a7e4e1d66244691cc6063c inherit pro_attribs_class_module"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5ef8552c8a7e4e1d66244691cc6063c"></a>
<a class="el" href="class_module.html#ac47ec2094c2373341b6b9e2cce7b12bc">SCHEDULE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_module.html#ac5ef8552c8a7e4e1d66244691cc6063c">m_schedule</a></td></tr>
<tr class="memdesc:ac5ef8552c8a7e4e1d66244691cc6063c inherit pro_attribs_class_module"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduling of the module in the processing sequence. <br /></td></tr>
<tr class="separator:ac5ef8552c8a7e4e1d66244691cc6063c inherit pro_attribs_class_module"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This module is used to generate an image of the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> at the appropriate position on the focal plane for each star in the field of view. </p>
<dl class="section author"><dt>Author</dt><dd>David Futyan UGE</dd></dl>
<p>Parameter input for ModuleParams:</p><ol type="1">
<li>FOVradius (double): Field of view radius in arcseconds</li>
<li>pointingRA (double): Pointing direction Right Ascension in arcseconds</li>
<li>pointingDec (double): Pointing direction declination in arcseconds</li>
<li>minMagnitude (int): Minimum magnitude for stars in the field of view</li>
<li>starFilename (string): ascii file containing comma separated values for RA,dec,mag,specType for each star to be included</li>
</ol>
<p>The field of view information is stored in an instance of <a class="el" href="class_sky_field_of_view.html" title="Container class for field of view data. ">SkyFieldOfView</a>. The information is passed into the constructor via an instance of ModuleParams.</p>
<p>Stars are read in from a file names stars.txt located in Simulator/conf This is an ascii file with one line for each star. Each line consists of three comma separated doubles followed by a string, specifying respectively for each star: right ascension, declination, magnitude, spectral type. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="ab37c9dd00a4284263342a696abf71c82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_p_s_f_generator.html#ab37c9dd00a4284263342a696abf71c82">PSFGenerator::POSITION_METHOD</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Algorithm used to position the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> on the FOV. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ab37c9dd00a4284263342a696abf71c82aaa1d1752dda9c93e0a4a8d1da69e366c"></a>Oversampling&#160;</td><td class="fielddoc">
<p>10 times spatial oversampling </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab37c9dd00a4284263342a696abf71c82a8047fc24a393492c9da7474cc3b91fd4"></a>Interpolation&#160;</td><td class="fielddoc">
<p>Bilinear spatial interpolation. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab37c9dd00a4284263342a696abf71c82a552beda803c7c04993f04d841ee9e839"></a>SnapToGrid&#160;</td><td class="fielddoc">
<p><a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> grid directly mapped to CCD grid. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a24b8622fd6752b2565e6df88011d651c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_p_s_f_generator.html#a24b8622fd6752b2565e6df88011d651c">PSFGenerator::THERMAL_MAP</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thermal map corresponding to the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a>. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a24b8622fd6752b2565e6df88011d651ca1ce2ad20c62b62e1838d3d8c65d666b9"></a>fixed&#160;</td><td class="fielddoc">
<p>All telescope components at the nominal temperature of -10C. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a24b8622fd6752b2565e6df88011d651ca5208f790b6c299b314b5911f7b9c2cad"></a>cold&#160;</td><td class="fielddoc">
<p>Thermal map corresponding to the coldest orbit. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a24b8622fd6752b2565e6df88011d651ca12c435c69ec0913d9be4f9083c7900d3"></a>hot1&#160;</td><td class="fielddoc">
<p>Thermal map corresponding to the coldest point of the hottest orbit. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a24b8622fd6752b2565e6df88011d651cac96aae289cd8523205f39b02c6a3407c"></a>hot2&#160;</td><td class="fielddoc">
<p>Thermal map corresponding to the hottest point of the hottest orbit. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a24b8622fd6752b2565e6df88011d651ca9f92287025302a21ea0cb10aa134f89b"></a>breathing&#160;</td><td class="fielddoc">
<p>Linear interpolation between the hot1 and hot2 thermal maps according to telescope temperature. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae5995728a3d7ae89356f526922e4c1da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double PSFGenerator::bilinearInterpolation </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>q11</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>q12</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>q21</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>q22</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>xfrac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>yfrac</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by interpolatePSF. Returns the value of a pixel in the target grid (CCD) given the values of the 4 nearest pixels in the source grid (<a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a>) and the offset between the 2 grids in x and y. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">q11</td><td>Value for nearest source grid pixel below and left of the target pixel position </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">q12</td><td>Value for nearest source grid pixel above and left of the target pixel position </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">q21</td><td>Value for nearest source grid pixel below and right of the target pixel position </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">q22</td><td>Value for nearest source grid pixel above and right of the target pixel position </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xfrac</td><td>Offset of the target grid w.r.t. the source grid in the x direction, expressed as a fraction of a pixel size </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">yfrac</td><td>Offset of the target grid w.r.t. the source grid in the y direction, expressed as a fraction of a pixel size </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a104a59a07d40c1990fe1c18f2aa8a674"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PSFGenerator::doBegin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fullFrame</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Further module initialization with access to data initialized by other modules. Called after preceding modules have been initialized. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fullFrame</td><td>Boolean to indicate whether or not a full frame image is to be generated </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_module.html#a8468ed751f03ec474f966f21de09f9bf">Module</a>.</p>

</div>
</div>
<a class="anchor" id="a9e83ba200fac4381fe9838e558137efb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PSFGenerator::getWavelengthWeights </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates wavelength weights according to the black body spectrum defined by the effective temperature of the target star, together with the QE and throughput vs wavelength. The weights are used to construct the monochromatic <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a>. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the <a class="el" href="class_data.html" title="Data container for CHEOPSim. ">Data</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0d55ba47d92ed2aebc102b8d2c3ae246"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PSFGenerator::initialize </td>
          <td>(</td>
          <td class="paramtype">const ModuleParams &amp;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the module by reading in parameters from the configuration file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>Pointer to an instance of ProgramParams containing the CHEOPSim input parameters read in from the CHEOPSim configuration xml file </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_module.html#af4c2d2bdeb5d914c4afe75334ec79662">Module</a>.</p>

</div>
</div>
<a class="anchor" id="ab3f34970efdec6617373cd08afa69c6e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PSFGenerator::interpolatePSF </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>jitteredPositionX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>jitteredPositionY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double **&#160;</td>
          <td class="paramname"><em>temperatureInterpolatedPsf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double **&#160;</td>
          <td class="paramname"><em>interpolatedPSF</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs a bilinear spatial interpolation the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> to an array shifted w.r.t. the pixel grid and normalizes the resultant <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> to 1. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jitteredPositionX</td><td>x position of the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> taking into account jitter </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jitteredPositionY</td><td>y position of the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> taking into account jitter </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">temperatureInterpolatedPsf</td><td><a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> after interpolation to the current temperature (as opposed to spatial interpolation performed by this method) for the breathing case. Only used if the thermal map is set to breathing. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">interpolatedPSF</td><td>Output <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> after spatial interpolation to the jittered position </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9b27c3d1091d527f949990dd1fd8ad65"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PSFGenerator::process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data.html">Data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fullFrame</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processing of the data. Called for each time step of the simulation if Module::Schedule is timeLoop (default), otherwise called once. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeStep</td><td>Index of the current time step (only for Module::Schedule==timeloop) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fullFrame</td><td>Boolean to indicate whether or not a full frame image is to be generated </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_module.html#a2c3a2985dc3e1b5df7cc38cc200dba54">Module</a>.</p>

</div>
</div>
<a class="anchor" id="a65a60668c2572197149abb2fbfeda272"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PSFGenerator::readPSFs </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>oversampled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_data_1_1_subarray_dimensions.html">Data::SubarrayDimensions</a>&#160;</td>
          <td class="paramname"><em>subarrayDimensions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads in the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> (can be oversampled or not, monochromatic or not) for the requested thermal map, or for the two hot thermal maps for the breathing case. The resulting <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> is re-normalized to 1. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">oversampled</td><td>Flag to indicate whether or not the <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> should read spatially oversampled </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">subarrayDimensions</td><td>Subarray dimensions </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a91298096ef976f9dfc828e5f3e97355c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int PSFGenerator::kPsfMargin = 25</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>PSFs are not added to the image if the central position is more than this number of pixels outside the edge of the frame (intended to correspond to <a class="el" href="class_p_s_f.html" title="Class to hold PSF truth information: the flux and list of positions during the exposure. ">PSF</a> radius) </p>

</div>
</div>
<a class="anchor" id="a5d652b4b4e69f4eb570c1405089d8894"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr double PSFGenerator::kTelescopeArea = 706.85835</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<hr/>
<p> Telescope temperature in cm^2. Originally 767.93cm^2, from Redbook section 4.4.1. Changed to 728cm^2 following communication from A.Fortier 17/09/2014, where the 40cm^2 difference is due to spider obscuration. Changed again 3/11/2014 to pi*(32/2)^2=804.24772 since latest throughput file already includes spider and M2 obscuration Changed again 19/02/2020 to pi*(30/2)^2=706.85835 to reflect new understanding of effective telescope aperture radius (32cm-&gt;30cm) </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>telescope/include/<a class="el" href="_p_s_f_generator_8hxx_source.html">PSFGenerator.hxx</a></li>
<li>telescope/src/PSFGenerator.cxx</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 5 2021 21:04:02 for CHEOPSim by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
